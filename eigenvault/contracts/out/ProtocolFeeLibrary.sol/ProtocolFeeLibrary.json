{"abi":[{"type":"function","name":"MAX_PROTOCOL_FEE","inputs":[],"outputs":[{"name":"","type":"uint16","internalType":"uint16"}],"stateMutability":"view"}],"bytecode":{"object":"0x60bd61004c600b8282823980515f1a6073146040577f4e487b71000000000000000000000000000000000000000000000000000000005f525f60045260245ffd5b305f52607381538281f3fe73000000000000000000000000000000000000000030146080604052600436106032575f3560e01c8063b8ca3b83146036575b5f80fd5b603c6050565b604051604791906070565b60405180910390f35b6103e881565b5f61ffff82169050919050565b606a816056565b82525050565b5f60208201905060815f8301846063565b9291505056fea2646970667358221220c0581eeb73fa38ee7d9b9b5a1329d163c514fca1bbfba8aaf7f766bb4b963aa864736f6c634300081a0033","sourceMap":"115:1997:72:-:0;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;","linkReferences":{}},"deployedBytecode":{"object":"0x73000000000000000000000000000000000000000030146080604052600436106032575f3560e01c8063b8ca3b83146036575b5f80fd5b603c6050565b604051604791906070565b60405180910390f35b6103e881565b5f61ffff82169050919050565b606a816056565b82525050565b5f60208201905060815f8301846063565b9291505056fea2646970667358221220c0581eeb73fa38ee7d9b9b5a1329d163c514fca1bbfba8aaf7f766bb4b963aa864736f6c634300081a0033","sourceMap":"115:1997:72:-:0;;;;;;;;;;;;;;;;;;;;;;;;274:46;;;:::i;:::-;;;;;;;:::i;:::-;;;;;;;;;316:4;274:46;:::o;7:89:87:-;43:7;83:6;76:5;72:18;61:29;;7:89;;;:::o;102:123::-;195:23;212:5;195:23;:::i;:::-;190:3;183:36;102:123;;:::o;231:234::-;330:4;368:2;357:9;353:18;345:26;;381:77;455:1;444:9;440:17;431:6;381:77;:::i;:::-;231:234;;;;:::o","linkReferences":{}},"methodIdentifiers":{"MAX_PROTOCOL_FEE()":"b8ca3b83"},"rawMetadata":"{\"compiler\":{\"version\":\"0.8.26+commit.8a97fa7a\"},\"language\":\"Solidity\",\"output\":{\"abi\":[{\"inputs\":[],\"name\":\"MAX_PROTOCOL_FEE\",\"outputs\":[{\"internalType\":\"uint16\",\"name\":\"\",\"type\":\"uint16\"}],\"stateMutability\":\"view\",\"type\":\"function\"}],\"devdoc\":{\"kind\":\"dev\",\"methods\":{},\"stateVariables\":{\"MAX_PROTOCOL_FEE\":{\"details\":\"Increasing these values could lead to overflow in Pool.swap\"}},\"version\":1},\"userdoc\":{\"kind\":\"user\",\"methods\":{\"MAX_PROTOCOL_FEE()\":{\"notice\":\"Max protocol fee is 0.1% (1000 pips)\"}},\"notice\":\"library of functions related to protocol fees\",\"version\":1}},\"settings\":{\"compilationTarget\":{\"lib/v4-core/src/libraries/ProtocolFeeLibrary.sol\":\"ProtocolFeeLibrary\"},\"evmVersion\":\"cancun\",\"libraries\":{},\"metadata\":{\"bytecodeHash\":\"ipfs\"},\"optimizer\":{\"enabled\":false,\"runs\":200},\"remappings\":[\":@eigenlayer-middleware/=lib/eigenlayer-middleware/src/\",\":@eigenlayer/=lib/eigenlayer-contracts/src/contracts/\",\":@ensdomains/=lib/v4-core/node_modules/@ensdomains/\",\":@forge-std/=lib/forge-std/src/\",\":@openzeppelin-upgrades/=lib/eigenlayer-middleware/lib/openzeppelin-contracts-upgradeable/\",\":@openzeppelin/contracts/=lib/openzeppelin-contracts/contracts/\",\":@uniswap/v4-core/=lib/v4-core/\",\":@uniswap/v4-periphery/=lib/v4-periphery/\",\":ds-test/=lib/eigenlayer-middleware/lib/ds-test/src/\",\":eigenlayer-contracts/=lib/eigenlayer-contracts/\",\":eigenlayer-middleware/=lib/eigenlayer-middleware/\",\":erc4626-tests/=lib/openzeppelin-contracts/lib/erc4626-tests/\",\":forge-gas-snapshot/=lib/v4-periphery/lib/permit2/lib/forge-gas-snapshot/src/\",\":forge-std/=lib/forge-std/src/\",\":halmos-cheatcodes/=lib/openzeppelin-contracts/lib/halmos-cheatcodes/src/\",\":hardhat/=lib/v4-core/node_modules/hardhat/\",\":openzeppelin-contracts-upgradeable-v4.9.0/=lib/eigenlayer-contracts/lib/openzeppelin-contracts-upgradeable-v4.9.0/\",\":openzeppelin-contracts-upgradeable/=lib/eigenlayer-middleware/lib/openzeppelin-contracts-upgradeable/\",\":openzeppelin-contracts-v4.9.0/=lib/eigenlayer-contracts/lib/openzeppelin-contracts-v4.9.0/\",\":openzeppelin-contracts/=lib/openzeppelin-contracts/\",\":openzeppelin/=lib/eigenlayer-middleware/lib/openzeppelin-contracts-upgradeable/contracts/\",\":permit2/=lib/v4-periphery/lib/permit2/\",\":solmate/=lib/v4-core/lib/solmate/\",\":v4-core/=lib/v4-core/src/\",\":v4-periphery/=lib/v4-periphery/\",\":zeus-templates/=lib/eigenlayer-contracts/lib/zeus-templates/src/\"]},\"sources\":{\"lib/v4-core/src/libraries/ProtocolFeeLibrary.sol\":{\"keccak256\":\"0xf483001899229ab10f5a626fe1c5866134d9e965b48ce6cf55ce0d7f74f7d8ec\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://6ba9211a7f69bbb44649c35211eb29d193c09032ec600064ef9d04b4625dd8ba\",\"dweb:/ipfs/QmQSjQvtguYgMJSkkKRhHjxasfX9xfTbrbcZ1QmjUVb787\"]}},\"version\":1}","metadata":{"compiler":{"version":"0.8.26+commit.8a97fa7a"},"language":"Solidity","output":{"abi":[{"inputs":[],"stateMutability":"view","type":"function","name":"MAX_PROTOCOL_FEE","outputs":[{"internalType":"uint16","name":"","type":"uint16"}]}],"devdoc":{"kind":"dev","methods":{},"version":1},"userdoc":{"kind":"user","methods":{"MAX_PROTOCOL_FEE()":{"notice":"Max protocol fee is 0.1% (1000 pips)"}},"version":1}},"settings":{"remappings":["@eigenlayer-middleware/=lib/eigenlayer-middleware/src/","@eigenlayer/=lib/eigenlayer-contracts/src/contracts/","@ensdomains/=lib/v4-core/node_modules/@ensdomains/","@forge-std/=lib/forge-std/src/","@openzeppelin-upgrades/=lib/eigenlayer-middleware/lib/openzeppelin-contracts-upgradeable/","@openzeppelin/contracts/=lib/openzeppelin-contracts/contracts/","@uniswap/v4-core/=lib/v4-core/","@uniswap/v4-periphery/=lib/v4-periphery/","ds-test/=lib/eigenlayer-middleware/lib/ds-test/src/","eigenlayer-contracts/=lib/eigenlayer-contracts/","eigenlayer-middleware/=lib/eigenlayer-middleware/","erc4626-tests/=lib/openzeppelin-contracts/lib/erc4626-tests/","forge-gas-snapshot/=lib/v4-periphery/lib/permit2/lib/forge-gas-snapshot/src/","forge-std/=lib/forge-std/src/","halmos-cheatcodes/=lib/openzeppelin-contracts/lib/halmos-cheatcodes/src/","hardhat/=lib/v4-core/node_modules/hardhat/","openzeppelin-contracts-upgradeable-v4.9.0/=lib/eigenlayer-contracts/lib/openzeppelin-contracts-upgradeable-v4.9.0/","openzeppelin-contracts-upgradeable/=lib/eigenlayer-middleware/lib/openzeppelin-contracts-upgradeable/","openzeppelin-contracts-v4.9.0/=lib/eigenlayer-contracts/lib/openzeppelin-contracts-v4.9.0/","openzeppelin-contracts/=lib/openzeppelin-contracts/","openzeppelin/=lib/eigenlayer-middleware/lib/openzeppelin-contracts-upgradeable/contracts/","permit2/=lib/v4-periphery/lib/permit2/","solmate/=lib/v4-core/lib/solmate/","v4-core/=lib/v4-core/src/","v4-periphery/=lib/v4-periphery/","zeus-templates/=lib/eigenlayer-contracts/lib/zeus-templates/src/"],"optimizer":{"enabled":false,"runs":200},"metadata":{"bytecodeHash":"ipfs"},"compilationTarget":{"lib/v4-core/src/libraries/ProtocolFeeLibrary.sol":"ProtocolFeeLibrary"},"evmVersion":"cancun","libraries":{}},"sources":{"lib/v4-core/src/libraries/ProtocolFeeLibrary.sol":{"keccak256":"0xf483001899229ab10f5a626fe1c5866134d9e965b48ce6cf55ce0d7f74f7d8ec","urls":["bzz-raw://6ba9211a7f69bbb44649c35211eb29d193c09032ec600064ef9d04b4625dd8ba","dweb:/ipfs/QmQSjQvtguYgMJSkkKRhHjxasfX9xfTbrbcZ1QmjUVb787"],"license":"MIT"}},"version":1},"ast":{"absolutePath":"lib/v4-core/src/libraries/ProtocolFeeLibrary.sol","id":69633,"exportedSymbols":{"ProtocolFeeLibrary":[69632]},"nodeType":"SourceUnit","src":"32:2081:72","nodes":[{"id":69562,"nodeType":"PragmaDirective","src":"32:23:72","nodes":[],"literals":["solidity","^","0.8",".0"]},{"id":69632,"nodeType":"ContractDefinition","src":"115:1997:72","nodes":[{"id":69567,"nodeType":"VariableDeclaration","src":"274:46:72","nodes":[],"constant":true,"documentation":{"id":69564,"nodeType":"StructuredDocumentation","src":"148:121:72","text":"@notice Max protocol fee is 0.1% (1000 pips)\n @dev Increasing these values could lead to overflow in Pool.swap"},"functionSelector":"b8ca3b83","mutability":"constant","name":"MAX_PROTOCOL_FEE","nameLocation":"297:16:72","scope":69632,"stateVariable":true,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint16","typeString":"uint16"},"typeName":{"id":69565,"name":"uint16","nodeType":"ElementaryTypeName","src":"274:6:72","typeDescriptions":{"typeIdentifier":"t_uint16","typeString":"uint16"}},"value":{"hexValue":"31303030","id":69566,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"316:4:72","typeDescriptions":{"typeIdentifier":"t_rational_1000_by_1","typeString":"int_const 1000"},"value":"1000"},"visibility":"public"},{"id":69571,"nodeType":"VariableDeclaration","src":"404:47:72","nodes":[],"constant":true,"documentation":{"id":69568,"nodeType":"StructuredDocumentation","src":"327:72:72","text":"@notice Thresholds used for optimized bounds checks on protocol fees"},"mutability":"constant","name":"FEE_0_THRESHOLD","nameLocation":"429:15:72","scope":69632,"stateVariable":true,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint24","typeString":"uint24"},"typeName":{"id":69569,"name":"uint24","nodeType":"ElementaryTypeName","src":"404:6:72","typeDescriptions":{"typeIdentifier":"t_uint24","typeString":"uint24"}},"value":{"hexValue":"31303031","id":69570,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"447:4:72","typeDescriptions":{"typeIdentifier":"t_rational_1001_by_1","typeString":"int_const 1001"},"value":"1001"},"visibility":"internal"},{"id":69576,"nodeType":"VariableDeclaration","src":"457:53:72","nodes":[],"constant":true,"mutability":"constant","name":"FEE_1_THRESHOLD","nameLocation":"482:15:72","scope":69632,"stateVariable":true,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint24","typeString":"uint24"},"typeName":{"id":69572,"name":"uint24","nodeType":"ElementaryTypeName","src":"457:6:72","typeDescriptions":{"typeIdentifier":"t_uint24","typeString":"uint24"}},"value":{"commonType":{"typeIdentifier":"t_rational_4100096_by_1","typeString":"int_const 4100096"},"id":69575,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"leftExpression":{"hexValue":"31303031","id":69573,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"500:4:72","typeDescriptions":{"typeIdentifier":"t_rational_1001_by_1","typeString":"int_const 1001"},"value":"1001"},"nodeType":"BinaryOperation","operator":"<<","rightExpression":{"hexValue":"3132","id":69574,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"508:2:72","typeDescriptions":{"typeIdentifier":"t_rational_12_by_1","typeString":"int_const 12"},"value":"12"},"src":"500:10:72","typeDescriptions":{"typeIdentifier":"t_rational_4100096_by_1","typeString":"int_const 4100096"}},"visibility":"internal"},{"id":69580,"nodeType":"VariableDeclaration","src":"588:54:72","nodes":[],"constant":true,"documentation":{"id":69577,"nodeType":"StructuredDocumentation","src":"517:66:72","text":"@notice the protocol fee is represented in hundredths of a bip"},"mutability":"constant","name":"PIPS_DENOMINATOR","nameLocation":"614:16:72","scope":69632,"stateVariable":true,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":69578,"name":"uint256","nodeType":"ElementaryTypeName","src":"588:7:72","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":{"hexValue":"315f3030305f303030","id":69579,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"633:9:72","typeDescriptions":{"typeIdentifier":"t_rational_1000000_by_1","typeString":"int_const 1000000"},"value":"1_000_000"},"visibility":"internal"},{"id":69595,"nodeType":"FunctionDefinition","src":"649:114:72","nodes":[],"body":{"id":69594,"nodeType":"Block","src":"719:44:72","nodes":[],"statements":[{"expression":{"arguments":[{"commonType":{"typeIdentifier":"t_uint24","typeString":"uint24"},"id":69591,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":69589,"name":"self","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":69582,"src":"743:4:72","typeDescriptions":{"typeIdentifier":"t_uint24","typeString":"uint24"}},"nodeType":"BinaryOperation","operator":"&","rightExpression":{"hexValue":"3078666666","id":69590,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"750:5:72","typeDescriptions":{"typeIdentifier":"t_rational_4095_by_1","typeString":"int_const 4095"},"value":"0xfff"},"src":"743:12:72","typeDescriptions":{"typeIdentifier":"t_uint24","typeString":"uint24"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint24","typeString":"uint24"}],"id":69588,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"736:6:72","typeDescriptions":{"typeIdentifier":"t_type$_t_uint16_$","typeString":"type(uint16)"},"typeName":{"id":69587,"name":"uint16","nodeType":"ElementaryTypeName","src":"736:6:72","typeDescriptions":{}}},"id":69592,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"736:20:72","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint16","typeString":"uint16"}},"functionReturnParameters":69586,"id":69593,"nodeType":"Return","src":"729:27:72"}]},"implemented":true,"kind":"function","modifiers":[],"name":"getZeroForOneFee","nameLocation":"658:16:72","parameters":{"id":69583,"nodeType":"ParameterList","parameters":[{"constant":false,"id":69582,"mutability":"mutable","name":"self","nameLocation":"682:4:72","nodeType":"VariableDeclaration","scope":69595,"src":"675:11:72","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint24","typeString":"uint24"},"typeName":{"id":69581,"name":"uint24","nodeType":"ElementaryTypeName","src":"675:6:72","typeDescriptions":{"typeIdentifier":"t_uint24","typeString":"uint24"}},"visibility":"internal"}],"src":"674:13:72"},"returnParameters":{"id":69586,"nodeType":"ParameterList","parameters":[{"constant":false,"id":69585,"mutability":"mutable","name":"","nameLocation":"-1:-1:-1","nodeType":"VariableDeclaration","scope":69595,"src":"711:6:72","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint16","typeString":"uint16"},"typeName":{"id":69584,"name":"uint16","nodeType":"ElementaryTypeName","src":"711:6:72","typeDescriptions":{"typeIdentifier":"t_uint16","typeString":"uint16"}},"visibility":"internal"}],"src":"710:8:72"},"scope":69632,"stateMutability":"pure","virtual":false,"visibility":"internal"},{"id":69610,"nodeType":"FunctionDefinition","src":"769:112:72","nodes":[],"body":{"id":69609,"nodeType":"Block","src":"839:42:72","nodes":[],"statements":[{"expression":{"arguments":[{"commonType":{"typeIdentifier":"t_uint24","typeString":"uint24"},"id":69606,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":69604,"name":"self","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":69597,"src":"863:4:72","typeDescriptions":{"typeIdentifier":"t_uint24","typeString":"uint24"}},"nodeType":"BinaryOperation","operator":">>","rightExpression":{"hexValue":"3132","id":69605,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"871:2:72","typeDescriptions":{"typeIdentifier":"t_rational_12_by_1","typeString":"int_const 12"},"value":"12"},"src":"863:10:72","typeDescriptions":{"typeIdentifier":"t_uint24","typeString":"uint24"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint24","typeString":"uint24"}],"id":69603,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"856:6:72","typeDescriptions":{"typeIdentifier":"t_type$_t_uint16_$","typeString":"type(uint16)"},"typeName":{"id":69602,"name":"uint16","nodeType":"ElementaryTypeName","src":"856:6:72","typeDescriptions":{}}},"id":69607,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"856:18:72","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint16","typeString":"uint16"}},"functionReturnParameters":69601,"id":69608,"nodeType":"Return","src":"849:25:72"}]},"implemented":true,"kind":"function","modifiers":[],"name":"getOneForZeroFee","nameLocation":"778:16:72","parameters":{"id":69598,"nodeType":"ParameterList","parameters":[{"constant":false,"id":69597,"mutability":"mutable","name":"self","nameLocation":"802:4:72","nodeType":"VariableDeclaration","scope":69610,"src":"795:11:72","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint24","typeString":"uint24"},"typeName":{"id":69596,"name":"uint24","nodeType":"ElementaryTypeName","src":"795:6:72","typeDescriptions":{"typeIdentifier":"t_uint24","typeString":"uint24"}},"visibility":"internal"}],"src":"794:13:72"},"returnParameters":{"id":69601,"nodeType":"ParameterList","parameters":[{"constant":false,"id":69600,"mutability":"mutable","name":"","nameLocation":"-1:-1:-1","nodeType":"VariableDeclaration","scope":69610,"src":"831:6:72","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint16","typeString":"uint16"},"typeName":{"id":69599,"name":"uint16","nodeType":"ElementaryTypeName","src":"831:6:72","typeDescriptions":{"typeIdentifier":"t_uint16","typeString":"uint16"}},"visibility":"internal"}],"src":"830:8:72"},"scope":69632,"stateMutability":"pure","virtual":false,"visibility":"internal"},{"id":69619,"nodeType":"FunctionDefinition","src":"887:459:72","nodes":[],"body":{"id":69618,"nodeType":"Block","src":"963:383:72","nodes":[],"statements":[{"AST":{"nativeSrc":"1113:227:72","nodeType":"YulBlock","src":"1113:227:72","statements":[{"nativeSrc":"1127:62:72","nodeType":"YulVariableDeclaration","src":"1127:62:72","value":{"arguments":[{"arguments":[{"name":"self","nativeSrc":"1159:4:72","nodeType":"YulIdentifier","src":"1159:4:72"},{"kind":"number","nativeSrc":"1165:5:72","nodeType":"YulLiteral","src":"1165:5:72","type":"","value":"0xfff"}],"functionName":{"name":"and","nativeSrc":"1155:3:72","nodeType":"YulIdentifier","src":"1155:3:72"},"nativeSrc":"1155:16:72","nodeType":"YulFunctionCall","src":"1155:16:72"},{"name":"FEE_0_THRESHOLD","nativeSrc":"1173:15:72","nodeType":"YulIdentifier","src":"1173:15:72"}],"functionName":{"name":"lt","nativeSrc":"1152:2:72","nodeType":"YulIdentifier","src":"1152:2:72"},"nativeSrc":"1152:37:72","nodeType":"YulFunctionCall","src":"1152:37:72"},"variables":[{"name":"isZeroForOneFeeOk","nativeSrc":"1131:17:72","nodeType":"YulTypedName","src":"1131:17:72","type":""}]},{"nativeSrc":"1202:65:72","nodeType":"YulVariableDeclaration","src":"1202:65:72","value":{"arguments":[{"arguments":[{"name":"self","nativeSrc":"1234:4:72","nodeType":"YulIdentifier","src":"1234:4:72"},{"kind":"number","nativeSrc":"1240:8:72","nodeType":"YulLiteral","src":"1240:8:72","type":"","value":"0xfff000"}],"functionName":{"name":"and","nativeSrc":"1230:3:72","nodeType":"YulIdentifier","src":"1230:3:72"},"nativeSrc":"1230:19:72","nodeType":"YulFunctionCall","src":"1230:19:72"},{"name":"FEE_1_THRESHOLD","nativeSrc":"1251:15:72","nodeType":"YulIdentifier","src":"1251:15:72"}],"functionName":{"name":"lt","nativeSrc":"1227:2:72","nodeType":"YulIdentifier","src":"1227:2:72"},"nativeSrc":"1227:40:72","nodeType":"YulFunctionCall","src":"1227:40:72"},"variables":[{"name":"isOneForZeroFeeOk","nativeSrc":"1206:17:72","nodeType":"YulTypedName","src":"1206:17:72","type":""}]},{"nativeSrc":"1280:50:72","nodeType":"YulAssignment","src":"1280:50:72","value":{"arguments":[{"name":"isZeroForOneFeeOk","nativeSrc":"1293:17:72","nodeType":"YulIdentifier","src":"1293:17:72"},{"name":"isOneForZeroFeeOk","nativeSrc":"1312:17:72","nodeType":"YulIdentifier","src":"1312:17:72"}],"functionName":{"name":"and","nativeSrc":"1289:3:72","nodeType":"YulIdentifier","src":"1289:3:72"},"nativeSrc":"1289:41:72","nodeType":"YulFunctionCall","src":"1289:41:72"},"variableNames":[{"name":"valid","nativeSrc":"1280:5:72","nodeType":"YulIdentifier","src":"1280:5:72"}]}]},"evmVersion":"cancun","externalReferences":[{"declaration":69571,"isOffset":false,"isSlot":false,"src":"1173:15:72","valueSize":1},{"declaration":69576,"isOffset":false,"isSlot":false,"src":"1251:15:72","valueSize":1},{"declaration":69612,"isOffset":false,"isSlot":false,"src":"1159:4:72","valueSize":1},{"declaration":69612,"isOffset":false,"isSlot":false,"src":"1234:4:72","valueSize":1},{"declaration":69615,"isOffset":false,"isSlot":false,"src":"1280:5:72","valueSize":1}],"flags":["memory-safe"],"id":69617,"nodeType":"InlineAssembly","src":"1088:252:72"}]},"implemented":true,"kind":"function","modifiers":[],"name":"isValidProtocolFee","nameLocation":"896:18:72","parameters":{"id":69613,"nodeType":"ParameterList","parameters":[{"constant":false,"id":69612,"mutability":"mutable","name":"self","nameLocation":"922:4:72","nodeType":"VariableDeclaration","scope":69619,"src":"915:11:72","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint24","typeString":"uint24"},"typeName":{"id":69611,"name":"uint24","nodeType":"ElementaryTypeName","src":"915:6:72","typeDescriptions":{"typeIdentifier":"t_uint24","typeString":"uint24"}},"visibility":"internal"}],"src":"914:13:72"},"returnParameters":{"id":69616,"nodeType":"ParameterList","parameters":[{"constant":false,"id":69615,"mutability":"mutable","name":"valid","nameLocation":"956:5:72","nodeType":"VariableDeclaration","scope":69619,"src":"951:10:72","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"},"typeName":{"id":69614,"name":"bool","nodeType":"ElementaryTypeName","src":"951:4:72","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"visibility":"internal"}],"src":"950:12:72"},"scope":69632,"stateMutability":"pure","virtual":false,"visibility":"internal"},{"id":69631,"nodeType":"FunctionDefinition","src":"1695:415:72","nodes":[],"body":{"id":69630,"nodeType":"Block","src":"1787:323:72","nodes":[],"statements":[{"AST":{"nativeSrc":"1889:215:72","nodeType":"YulBlock","src":"1889:215:72","statements":[{"nativeSrc":"1903:24:72","nodeType":"YulAssignment","src":"1903:24:72","value":{"arguments":[{"name":"self","nativeSrc":"1915:4:72","nodeType":"YulIdentifier","src":"1915:4:72"},{"kind":"number","nativeSrc":"1921:5:72","nodeType":"YulLiteral","src":"1921:5:72","type":"","value":"0xfff"}],"functionName":{"name":"and","nativeSrc":"1911:3:72","nodeType":"YulIdentifier","src":"1911:3:72"},"nativeSrc":"1911:16:72","nodeType":"YulFunctionCall","src":"1911:16:72"},"variableNames":[{"name":"self","nativeSrc":"1903:4:72","nodeType":"YulIdentifier","src":"1903:4:72"}]},{"nativeSrc":"1940:29:72","nodeType":"YulAssignment","src":"1940:29:72","value":{"arguments":[{"name":"lpFee","nativeSrc":"1953:5:72","nodeType":"YulIdentifier","src":"1953:5:72"},{"kind":"number","nativeSrc":"1960:8:72","nodeType":"YulLiteral","src":"1960:8:72","type":"","value":"0xffffff"}],"functionName":{"name":"and","nativeSrc":"1949:3:72","nodeType":"YulIdentifier","src":"1949:3:72"},"nativeSrc":"1949:20:72","nodeType":"YulFunctionCall","src":"1949:20:72"},"variableNames":[{"name":"lpFee","nativeSrc":"1940:5:72","nodeType":"YulIdentifier","src":"1940:5:72"}]},{"nativeSrc":"1982:33:72","nodeType":"YulVariableDeclaration","src":"1982:33:72","value":{"arguments":[{"name":"self","nativeSrc":"2003:4:72","nodeType":"YulIdentifier","src":"2003:4:72"},{"name":"lpFee","nativeSrc":"2009:5:72","nodeType":"YulIdentifier","src":"2009:5:72"}],"functionName":{"name":"mul","nativeSrc":"1999:3:72","nodeType":"YulIdentifier","src":"1999:3:72"},"nativeSrc":"1999:16:72","nodeType":"YulFunctionCall","src":"1999:16:72"},"variables":[{"name":"numerator","nativeSrc":"1986:9:72","nodeType":"YulTypedName","src":"1986:9:72","type":""}]},{"nativeSrc":"2028:66:72","nodeType":"YulAssignment","src":"2028:66:72","value":{"arguments":[{"arguments":[{"name":"self","nativeSrc":"2047:4:72","nodeType":"YulIdentifier","src":"2047:4:72"},{"name":"lpFee","nativeSrc":"2053:5:72","nodeType":"YulIdentifier","src":"2053:5:72"}],"functionName":{"name":"add","nativeSrc":"2043:3:72","nodeType":"YulIdentifier","src":"2043:3:72"},"nativeSrc":"2043:16:72","nodeType":"YulFunctionCall","src":"2043:16:72"},{"arguments":[{"name":"numerator","nativeSrc":"2065:9:72","nodeType":"YulIdentifier","src":"2065:9:72"},{"name":"PIPS_DENOMINATOR","nativeSrc":"2076:16:72","nodeType":"YulIdentifier","src":"2076:16:72"}],"functionName":{"name":"div","nativeSrc":"2061:3:72","nodeType":"YulIdentifier","src":"2061:3:72"},"nativeSrc":"2061:32:72","nodeType":"YulFunctionCall","src":"2061:32:72"}],"functionName":{"name":"sub","nativeSrc":"2039:3:72","nodeType":"YulIdentifier","src":"2039:3:72"},"nativeSrc":"2039:55:72","nodeType":"YulFunctionCall","src":"2039:55:72"},"variableNames":[{"name":"swapFee","nativeSrc":"2028:7:72","nodeType":"YulIdentifier","src":"2028:7:72"}]}]},"evmVersion":"cancun","externalReferences":[{"declaration":69580,"isOffset":false,"isSlot":false,"src":"2076:16:72","valueSize":1},{"declaration":69624,"isOffset":false,"isSlot":false,"src":"1940:5:72","valueSize":1},{"declaration":69624,"isOffset":false,"isSlot":false,"src":"1953:5:72","valueSize":1},{"declaration":69624,"isOffset":false,"isSlot":false,"src":"2009:5:72","valueSize":1},{"declaration":69624,"isOffset":false,"isSlot":false,"src":"2053:5:72","valueSize":1},{"declaration":69622,"isOffset":false,"isSlot":false,"src":"1903:4:72","valueSize":1},{"declaration":69622,"isOffset":false,"isSlot":false,"src":"1915:4:72","valueSize":1},{"declaration":69622,"isOffset":false,"isSlot":false,"src":"2003:4:72","valueSize":1},{"declaration":69622,"isOffset":false,"isSlot":false,"src":"2047:4:72","valueSize":1},{"declaration":69627,"isOffset":false,"isSlot":false,"src":"2028:7:72","valueSize":1}],"flags":["memory-safe"],"id":69629,"nodeType":"InlineAssembly","src":"1864:240:72"}]},"documentation":{"id":69620,"nodeType":"StructuredDocumentation","src":"1590:100:72","text":"@dev here `self` is just a single direction's protocol fee, not a packed type of 2 protocol fees"},"implemented":true,"kind":"function","modifiers":[],"name":"calculateSwapFee","nameLocation":"1704:16:72","parameters":{"id":69625,"nodeType":"ParameterList","parameters":[{"constant":false,"id":69622,"mutability":"mutable","name":"self","nameLocation":"1728:4:72","nodeType":"VariableDeclaration","scope":69631,"src":"1721:11:72","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint16","typeString":"uint16"},"typeName":{"id":69621,"name":"uint16","nodeType":"ElementaryTypeName","src":"1721:6:72","typeDescriptions":{"typeIdentifier":"t_uint16","typeString":"uint16"}},"visibility":"internal"},{"constant":false,"id":69624,"mutability":"mutable","name":"lpFee","nameLocation":"1741:5:72","nodeType":"VariableDeclaration","scope":69631,"src":"1734:12:72","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint24","typeString":"uint24"},"typeName":{"id":69623,"name":"uint24","nodeType":"ElementaryTypeName","src":"1734:6:72","typeDescriptions":{"typeIdentifier":"t_uint24","typeString":"uint24"}},"visibility":"internal"}],"src":"1720:27:72"},"returnParameters":{"id":69628,"nodeType":"ParameterList","parameters":[{"constant":false,"id":69627,"mutability":"mutable","name":"swapFee","nameLocation":"1778:7:72","nodeType":"VariableDeclaration","scope":69631,"src":"1771:14:72","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint24","typeString":"uint24"},"typeName":{"id":69626,"name":"uint24","nodeType":"ElementaryTypeName","src":"1771:6:72","typeDescriptions":{"typeIdentifier":"t_uint24","typeString":"uint24"}},"visibility":"internal"}],"src":"1770:16:72"},"scope":69632,"stateMutability":"pure","virtual":false,"visibility":"internal"}],"abstract":false,"baseContracts":[],"canonicalName":"ProtocolFeeLibrary","contractDependencies":[],"contractKind":"library","documentation":{"id":69563,"nodeType":"StructuredDocumentation","src":"57:58:72","text":"@notice library of functions related to protocol fees"},"fullyImplemented":true,"linearizedBaseContracts":[69632],"name":"ProtocolFeeLibrary","nameLocation":"123:18:72","scope":69633,"usedErrors":[],"usedEvents":[]}],"license":"MIT"},"id":72}