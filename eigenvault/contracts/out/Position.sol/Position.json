{"abi":[{"type":"error","name":"CannotUpdateEmptyPosition","inputs":[]}],"bytecode":{"object":"0x6055604b600b8282823980515f1a607314603f577f4e487b71000000000000000000000000000000000000000000000000000000005f525f60045260245ffd5b305f52607381538281f3fe730000000000000000000000000000000000000000301460806040525f80fdfea2646970667358221220922c0a7d60dee85e2ff6139b80fd58a03a18e4ee14efedf3f7bb0626f4f823e764736f6c634300081a0033","sourceMap":"456:4356:71:-:0;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;","linkReferences":{}},"deployedBytecode":{"object":"0x730000000000000000000000000000000000000000301460806040525f80fdfea2646970667358221220922c0a7d60dee85e2ff6139b80fd58a03a18e4ee14efedf3f7bb0626f4f823e764736f6c634300081a0033","sourceMap":"456:4356:71:-:0;;;;;;;;","linkReferences":{}},"methodIdentifiers":{},"rawMetadata":"{\"compiler\":{\"version\":\"0.8.26+commit.8a97fa7a\"},\"language\":\"Solidity\",\"output\":{\"abi\":[{\"inputs\":[],\"name\":\"CannotUpdateEmptyPosition\",\"type\":\"error\"}],\"devdoc\":{\"details\":\"Positions store additional state for tracking fees owed to the position\",\"kind\":\"dev\",\"methods\":{},\"title\":\"Position\",\"version\":1},\"userdoc\":{\"errors\":{\"CannotUpdateEmptyPosition()\":[{\"notice\":\"Cannot update a position with no liquidity\"}]},\"kind\":\"user\",\"methods\":{},\"notice\":\"Positions represent an owner address' liquidity between a lower and upper tick boundary\",\"version\":1}},\"settings\":{\"compilationTarget\":{\"lib/v4-core/src/libraries/Position.sol\":\"Position\"},\"evmVersion\":\"cancun\",\"libraries\":{},\"metadata\":{\"bytecodeHash\":\"ipfs\"},\"optimizer\":{\"enabled\":false,\"runs\":200},\"remappings\":[\":@eigenlayer-middleware/=lib/eigenlayer-middleware/src/\",\":@eigenlayer/=lib/eigenlayer-contracts/src/contracts/\",\":@ensdomains/=lib/v4-core/node_modules/@ensdomains/\",\":@forge-std/=lib/forge-std/src/\",\":@openzeppelin-upgrades/=lib/eigenlayer-middleware/lib/openzeppelin-contracts-upgradeable/\",\":@openzeppelin/contracts/=lib/openzeppelin-contracts/contracts/\",\":@uniswap/v4-core/=lib/v4-core/\",\":@uniswap/v4-periphery/=lib/v4-periphery/\",\":ds-test/=lib/eigenlayer-middleware/lib/ds-test/src/\",\":eigenlayer-contracts/=lib/eigenlayer-contracts/\",\":eigenlayer-middleware/=lib/eigenlayer-middleware/\",\":erc4626-tests/=lib/openzeppelin-contracts/lib/erc4626-tests/\",\":forge-gas-snapshot/=lib/v4-periphery/lib/permit2/lib/forge-gas-snapshot/src/\",\":forge-std/=lib/forge-std/src/\",\":halmos-cheatcodes/=lib/openzeppelin-contracts/lib/halmos-cheatcodes/src/\",\":hardhat/=lib/v4-core/node_modules/hardhat/\",\":openzeppelin-contracts-upgradeable-v4.9.0/=lib/eigenlayer-contracts/lib/openzeppelin-contracts-upgradeable-v4.9.0/\",\":openzeppelin-contracts-upgradeable/=lib/eigenlayer-middleware/lib/openzeppelin-contracts-upgradeable/\",\":openzeppelin-contracts-v4.9.0/=lib/eigenlayer-contracts/lib/openzeppelin-contracts-v4.9.0/\",\":openzeppelin-contracts/=lib/openzeppelin-contracts/\",\":openzeppelin/=lib/eigenlayer-middleware/lib/openzeppelin-contracts-upgradeable/contracts/\",\":permit2/=lib/v4-periphery/lib/permit2/\",\":solmate/=lib/v4-core/lib/solmate/\",\":v4-core/=lib/v4-core/src/\",\":v4-periphery/=lib/v4-periphery/\",\":zeus-templates/=lib/eigenlayer-contracts/lib/zeus-templates/src/\"]},\"sources\":{\"lib/v4-core/src/libraries/CustomRevert.sol\":{\"keccak256\":\"0x111ed3031b6990c80a93ae35dde6b6ac0b7e6af471388fdd7461e91edda9b7de\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://c9ea883c98d6ae1829160d0977bb5195761cfd5bc81692d0a941f45717f594cd\",\"dweb:/ipfs/QmZPwxzaeMNv536wzrAMrMswu7vMHuqPVpjcqL3YvCMoxt\"]},\"lib/v4-core/src/libraries/FixedPoint128.sol\":{\"keccak256\":\"0xad236e10853f4b4b20a35a9bb52b857c4fc79874846b7e444e06ead7f2630542\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://0de1f9a06520b1a689660943faa14fc0b8344ab41fab9e6012ea34bff4b9b3eb\",\"dweb:/ipfs/QmRNMPTyko7W6d6KxuTsnDBa9oZgDK4xiwRRq3H9ASTbwy\"]},\"lib/v4-core/src/libraries/FullMath.sol\":{\"keccak256\":\"0x4fc73a00817193fd3cac1cc03d8167d21af97d75f1815a070ee31a90c702b4c2\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://c3b2d66d36b1ad56b1ab6e2eb8a816740877b40b461c93f125e88621c8378e52\",\"dweb:/ipfs/QmPGvMZzKQvNiWKd8aRzzdW7oAizwrMgcMtnaworDkVHFC\"]},\"lib/v4-core/src/libraries/LiquidityMath.sol\":{\"keccak256\":\"0x000ef2eadcc1eb7b2c18a77655f94e76e0e860f605783484657ef65fd6eda353\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://a766b620a7a22798b43c6c1f23b5c6cff0ebf588deb89842bad05208d448cd99\",\"dweb:/ipfs/QmVKjaFJdzkqA3ey2Byum8iTCMssWVD8MmVC8rw62Tj5WD\"]},\"lib/v4-core/src/libraries/Position.sol\":{\"keccak256\":\"0xddab2a831f1befb6abf5567e77c4582169ca8156cf69eb4f22d8e87f7226a3f9\",\"license\":\"BUSL-1.1\",\"urls\":[\"bzz-raw://c79fe61b50f3b70cff503abfa6f5643fcbefb9b794855bee1019b1e6d9c083b2\",\"dweb:/ipfs/QmbKmYNQesaMz8bo1b7TMHQcAwaDd3eDPrE5pAdPPZTtk5\"]}},\"version\":1}","metadata":{"compiler":{"version":"0.8.26+commit.8a97fa7a"},"language":"Solidity","output":{"abi":[{"inputs":[],"type":"error","name":"CannotUpdateEmptyPosition"}],"devdoc":{"kind":"dev","methods":{},"version":1},"userdoc":{"kind":"user","methods":{},"version":1}},"settings":{"remappings":["@eigenlayer-middleware/=lib/eigenlayer-middleware/src/","@eigenlayer/=lib/eigenlayer-contracts/src/contracts/","@ensdomains/=lib/v4-core/node_modules/@ensdomains/","@forge-std/=lib/forge-std/src/","@openzeppelin-upgrades/=lib/eigenlayer-middleware/lib/openzeppelin-contracts-upgradeable/","@openzeppelin/contracts/=lib/openzeppelin-contracts/contracts/","@uniswap/v4-core/=lib/v4-core/","@uniswap/v4-periphery/=lib/v4-periphery/","ds-test/=lib/eigenlayer-middleware/lib/ds-test/src/","eigenlayer-contracts/=lib/eigenlayer-contracts/","eigenlayer-middleware/=lib/eigenlayer-middleware/","erc4626-tests/=lib/openzeppelin-contracts/lib/erc4626-tests/","forge-gas-snapshot/=lib/v4-periphery/lib/permit2/lib/forge-gas-snapshot/src/","forge-std/=lib/forge-std/src/","halmos-cheatcodes/=lib/openzeppelin-contracts/lib/halmos-cheatcodes/src/","hardhat/=lib/v4-core/node_modules/hardhat/","openzeppelin-contracts-upgradeable-v4.9.0/=lib/eigenlayer-contracts/lib/openzeppelin-contracts-upgradeable-v4.9.0/","openzeppelin-contracts-upgradeable/=lib/eigenlayer-middleware/lib/openzeppelin-contracts-upgradeable/","openzeppelin-contracts-v4.9.0/=lib/eigenlayer-contracts/lib/openzeppelin-contracts-v4.9.0/","openzeppelin-contracts/=lib/openzeppelin-contracts/","openzeppelin/=lib/eigenlayer-middleware/lib/openzeppelin-contracts-upgradeable/contracts/","permit2/=lib/v4-periphery/lib/permit2/","solmate/=lib/v4-core/lib/solmate/","v4-core/=lib/v4-core/src/","v4-periphery/=lib/v4-periphery/","zeus-templates/=lib/eigenlayer-contracts/lib/zeus-templates/src/"],"optimizer":{"enabled":false,"runs":200},"metadata":{"bytecodeHash":"ipfs"},"compilationTarget":{"lib/v4-core/src/libraries/Position.sol":"Position"},"evmVersion":"cancun","libraries":{}},"sources":{"lib/v4-core/src/libraries/CustomRevert.sol":{"keccak256":"0x111ed3031b6990c80a93ae35dde6b6ac0b7e6af471388fdd7461e91edda9b7de","urls":["bzz-raw://c9ea883c98d6ae1829160d0977bb5195761cfd5bc81692d0a941f45717f594cd","dweb:/ipfs/QmZPwxzaeMNv536wzrAMrMswu7vMHuqPVpjcqL3YvCMoxt"],"license":"MIT"},"lib/v4-core/src/libraries/FixedPoint128.sol":{"keccak256":"0xad236e10853f4b4b20a35a9bb52b857c4fc79874846b7e444e06ead7f2630542","urls":["bzz-raw://0de1f9a06520b1a689660943faa14fc0b8344ab41fab9e6012ea34bff4b9b3eb","dweb:/ipfs/QmRNMPTyko7W6d6KxuTsnDBa9oZgDK4xiwRRq3H9ASTbwy"],"license":"MIT"},"lib/v4-core/src/libraries/FullMath.sol":{"keccak256":"0x4fc73a00817193fd3cac1cc03d8167d21af97d75f1815a070ee31a90c702b4c2","urls":["bzz-raw://c3b2d66d36b1ad56b1ab6e2eb8a816740877b40b461c93f125e88621c8378e52","dweb:/ipfs/QmPGvMZzKQvNiWKd8aRzzdW7oAizwrMgcMtnaworDkVHFC"],"license":"MIT"},"lib/v4-core/src/libraries/LiquidityMath.sol":{"keccak256":"0x000ef2eadcc1eb7b2c18a77655f94e76e0e860f605783484657ef65fd6eda353","urls":["bzz-raw://a766b620a7a22798b43c6c1f23b5c6cff0ebf588deb89842bad05208d448cd99","dweb:/ipfs/QmVKjaFJdzkqA3ey2Byum8iTCMssWVD8MmVC8rw62Tj5WD"],"license":"MIT"},"lib/v4-core/src/libraries/Position.sol":{"keccak256":"0xddab2a831f1befb6abf5567e77c4582169ca8156cf69eb4f22d8e87f7226a3f9","urls":["bzz-raw://c79fe61b50f3b70cff503abfa6f5643fcbefb9b794855bee1019b1e6d9c083b2","dweb:/ipfs/QmbKmYNQesaMz8bo1b7TMHQcAwaDd3eDPrE5pAdPPZTtk5"],"license":"BUSL-1.1"}},"version":1},"ast":{"absolutePath":"lib/v4-core/src/libraries/Position.sol","id":69900,"exportedSymbols":{"CustomRevert":[66450],"FixedPoint128":[66457],"FullMath":[66635],"LiquidityMath":[67972],"Position":[69899]},"nodeType":"SourceUnit","src":"37:4776:71","nodes":[{"id":69735,"nodeType":"PragmaDirective","src":"37:23:71","nodes":[],"literals":["solidity","^","0.8",".0"]},{"id":69737,"nodeType":"ImportDirective","src":"62:40:71","nodes":[],"absolutePath":"lib/v4-core/src/libraries/FullMath.sol","file":"./FullMath.sol","nameLocation":"-1:-1:-1","scope":69900,"sourceUnit":66636,"symbolAliases":[{"foreign":{"id":69736,"name":"FullMath","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":66635,"src":"70:8:71","typeDescriptions":{}},"nameLocation":"-1:-1:-1"}],"unitAlias":""},{"id":69739,"nodeType":"ImportDirective","src":"103:50:71","nodes":[],"absolutePath":"lib/v4-core/src/libraries/FixedPoint128.sol","file":"./FixedPoint128.sol","nameLocation":"-1:-1:-1","scope":69900,"sourceUnit":66458,"symbolAliases":[{"foreign":{"id":69738,"name":"FixedPoint128","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":66457,"src":"111:13:71","typeDescriptions":{}},"nameLocation":"-1:-1:-1"}],"unitAlias":""},{"id":69741,"nodeType":"ImportDirective","src":"154:50:71","nodes":[],"absolutePath":"lib/v4-core/src/libraries/LiquidityMath.sol","file":"./LiquidityMath.sol","nameLocation":"-1:-1:-1","scope":69900,"sourceUnit":67973,"symbolAliases":[{"foreign":{"id":69740,"name":"LiquidityMath","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":67972,"src":"162:13:71","typeDescriptions":{}},"nameLocation":"-1:-1:-1"}],"unitAlias":""},{"id":69743,"nodeType":"ImportDirective","src":"205:48:71","nodes":[],"absolutePath":"lib/v4-core/src/libraries/CustomRevert.sol","file":"./CustomRevert.sol","nameLocation":"-1:-1:-1","scope":69900,"sourceUnit":66451,"symbolAliases":[{"foreign":{"id":69742,"name":"CustomRevert","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":66450,"src":"213:12:71","typeDescriptions":{}},"nameLocation":"-1:-1:-1"}],"unitAlias":""},{"id":69899,"nodeType":"ContractDefinition","src":"456:4356:71","nodes":[{"id":69747,"nodeType":"UsingForDirective","src":"479:30:71","nodes":[],"global":false,"libraryName":{"id":69745,"name":"CustomRevert","nameLocations":["485:12:71"],"nodeType":"IdentifierPath","referencedDeclaration":66450,"src":"485:12:71"},"typeName":{"id":69746,"name":"bytes4","nodeType":"ElementaryTypeName","src":"502:6:71","typeDescriptions":{"typeIdentifier":"t_bytes4","typeString":"bytes4"}}},{"id":69750,"nodeType":"ErrorDefinition","src":"574:34:71","nodes":[],"documentation":{"id":69748,"nodeType":"StructuredDocumentation","src":"515:54:71","text":"@notice Cannot update a position with no liquidity"},"errorSelector":"aefeb924","name":"CannotUpdateEmptyPosition","nameLocation":"580:25:71","parameters":{"id":69749,"nodeType":"ParameterList","parameters":[],"src":"605:2:71"}},{"id":69757,"nodeType":"StructDefinition","src":"658:281:71","nodes":[],"canonicalName":"Position.State","members":[{"constant":false,"id":69752,"mutability":"mutable","name":"liquidity","nameLocation":"747:9:71","nodeType":"VariableDeclaration","scope":69757,"src":"739:17:71","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint128","typeString":"uint128"},"typeName":{"id":69751,"name":"uint128","nodeType":"ElementaryTypeName","src":"739:7:71","typeDescriptions":{"typeIdentifier":"t_uint128","typeString":"uint128"}},"visibility":"internal"},{"constant":false,"id":69754,"mutability":"mutable","name":"feeGrowthInside0LastX128","nameLocation":"866:24:71","nodeType":"VariableDeclaration","scope":69757,"src":"858:32:71","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":69753,"name":"uint256","nodeType":"ElementaryTypeName","src":"858:7:71","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":69756,"mutability":"mutable","name":"feeGrowthInside1LastX128","nameLocation":"908:24:71","nodeType":"VariableDeclaration","scope":69757,"src":"900:32:71","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":69755,"name":"uint256","nodeType":"ElementaryTypeName","src":"900:7:71","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"name":"State","nameLocation":"665:5:71","scope":69899,"visibility":"public"},{"id":69793,"nodeType":"FunctionDefinition","src":"1464:323:71","nodes":[],"body":{"id":69792,"nodeType":"Block","src":"1655:132:71","nodes":[],"statements":[{"assignments":[69778],"declarations":[{"constant":false,"id":69778,"mutability":"mutable","name":"positionKey","nameLocation":"1673:11:71","nodeType":"VariableDeclaration","scope":69792,"src":"1665:19:71","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"},"typeName":{"id":69777,"name":"bytes32","nodeType":"ElementaryTypeName","src":"1665:7:71","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"visibility":"internal"}],"id":69785,"initialValue":{"arguments":[{"id":69780,"name":"owner","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":69765,"src":"1708:5:71","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"id":69781,"name":"tickLower","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":69767,"src":"1715:9:71","typeDescriptions":{"typeIdentifier":"t_int24","typeString":"int24"}},{"id":69782,"name":"tickUpper","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":69769,"src":"1726:9:71","typeDescriptions":{"typeIdentifier":"t_int24","typeString":"int24"}},{"id":69783,"name":"salt","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":69771,"src":"1737:4:71","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_int24","typeString":"int24"},{"typeIdentifier":"t_int24","typeString":"int24"},{"typeIdentifier":"t_bytes32","typeString":"bytes32"}],"id":69779,"name":"calculatePositionKey","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":69809,"src":"1687:20:71","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_address_$_t_int24_$_t_int24_$_t_bytes32_$returns$_t_bytes32_$","typeString":"function (address,int24,int24,bytes32) pure returns (bytes32)"}},"id":69784,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"1687:55:71","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"nodeType":"VariableDeclarationStatement","src":"1665:77:71"},{"expression":{"id":69790,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":69786,"name":"position","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":69775,"src":"1752:8:71","typeDescriptions":{"typeIdentifier":"t_struct$_State_$69757_storage_ptr","typeString":"struct Position.State storage pointer"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"baseExpression":{"id":69787,"name":"self","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":69763,"src":"1763:4:71","typeDescriptions":{"typeIdentifier":"t_mapping$_t_bytes32_$_t_struct$_State_$69757_storage_$","typeString":"mapping(bytes32 => struct Position.State storage ref)"}},"id":69789,"indexExpression":{"id":69788,"name":"positionKey","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":69778,"src":"1768:11:71","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"1763:17:71","typeDescriptions":{"typeIdentifier":"t_struct$_State_$69757_storage","typeString":"struct Position.State storage ref"}},"src":"1752:28:71","typeDescriptions":{"typeIdentifier":"t_struct$_State_$69757_storage_ptr","typeString":"struct Position.State storage pointer"}},"id":69791,"nodeType":"ExpressionStatement","src":"1752:28:71"}]},"documentation":{"id":69758,"nodeType":"StructuredDocumentation","src":"945:514:71","text":"@notice Returns the State struct of a position, given an owner and position boundaries\n @param self The mapping containing all user positions\n @param owner The address of the position owner\n @param tickLower The lower tick boundary of the position\n @param tickUpper The upper tick boundary of the position\n @param salt A unique value to differentiate between multiple positions in the same range\n @return position The position info struct of the given owners' position"},"implemented":true,"kind":"function","modifiers":[],"name":"get","nameLocation":"1473:3:71","parameters":{"id":69772,"nodeType":"ParameterList","parameters":[{"constant":false,"id":69763,"mutability":"mutable","name":"self","nameLocation":"1511:4:71","nodeType":"VariableDeclaration","scope":69793,"src":"1477:38:71","stateVariable":false,"storageLocation":"storage","typeDescriptions":{"typeIdentifier":"t_mapping$_t_bytes32_$_t_struct$_State_$69757_storage_$","typeString":"mapping(bytes32 => struct Position.State)"},"typeName":{"id":69762,"keyName":"","keyNameLocation":"-1:-1:-1","keyType":{"id":69759,"name":"bytes32","nodeType":"ElementaryTypeName","src":"1485:7:71","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"nodeType":"Mapping","src":"1477:25:71","typeDescriptions":{"typeIdentifier":"t_mapping$_t_bytes32_$_t_struct$_State_$69757_storage_$","typeString":"mapping(bytes32 => struct Position.State)"},"valueName":"","valueNameLocation":"-1:-1:-1","valueType":{"id":69761,"nodeType":"UserDefinedTypeName","pathNode":{"id":69760,"name":"State","nameLocations":["1496:5:71"],"nodeType":"IdentifierPath","referencedDeclaration":69757,"src":"1496:5:71"},"referencedDeclaration":69757,"src":"1496:5:71","typeDescriptions":{"typeIdentifier":"t_struct$_State_$69757_storage_ptr","typeString":"struct Position.State"}}},"visibility":"internal"},{"constant":false,"id":69765,"mutability":"mutable","name":"owner","nameLocation":"1525:5:71","nodeType":"VariableDeclaration","scope":69793,"src":"1517:13:71","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":69764,"name":"address","nodeType":"ElementaryTypeName","src":"1517:7:71","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"},{"constant":false,"id":69767,"mutability":"mutable","name":"tickLower","nameLocation":"1538:9:71","nodeType":"VariableDeclaration","scope":69793,"src":"1532:15:71","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_int24","typeString":"int24"},"typeName":{"id":69766,"name":"int24","nodeType":"ElementaryTypeName","src":"1532:5:71","typeDescriptions":{"typeIdentifier":"t_int24","typeString":"int24"}},"visibility":"internal"},{"constant":false,"id":69769,"mutability":"mutable","name":"tickUpper","nameLocation":"1555:9:71","nodeType":"VariableDeclaration","scope":69793,"src":"1549:15:71","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_int24","typeString":"int24"},"typeName":{"id":69768,"name":"int24","nodeType":"ElementaryTypeName","src":"1549:5:71","typeDescriptions":{"typeIdentifier":"t_int24","typeString":"int24"}},"visibility":"internal"},{"constant":false,"id":69771,"mutability":"mutable","name":"salt","nameLocation":"1574:4:71","nodeType":"VariableDeclaration","scope":69793,"src":"1566:12:71","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"},"typeName":{"id":69770,"name":"bytes32","nodeType":"ElementaryTypeName","src":"1566:7:71","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"visibility":"internal"}],"src":"1476:103:71"},"returnParameters":{"id":69776,"nodeType":"ParameterList","parameters":[{"constant":false,"id":69775,"mutability":"mutable","name":"position","nameLocation":"1641:8:71","nodeType":"VariableDeclaration","scope":69793,"src":"1627:22:71","stateVariable":false,"storageLocation":"storage","typeDescriptions":{"typeIdentifier":"t_struct$_State_$69757_storage_ptr","typeString":"struct Position.State"},"typeName":{"id":69774,"nodeType":"UserDefinedTypeName","pathNode":{"id":69773,"name":"State","nameLocations":["1627:5:71"],"nodeType":"IdentifierPath","referencedDeclaration":69757,"src":"1627:5:71"},"referencedDeclaration":69757,"src":"1627:5:71","typeDescriptions":{"typeIdentifier":"t_struct$_State_$69757_storage_ptr","typeString":"struct Position.State"}},"visibility":"internal"}],"src":"1626:24:71"},"scope":69899,"stateMutability":"view","virtual":false,"visibility":"internal"},{"id":69809,"nodeType":"FunctionDefinition","src":"2184:878:71","nodes":[],"body":{"id":69808,"nodeType":"Block","src":"2349:713:71","nodes":[],"statements":[{"AST":{"nativeSrc":"2472:584:71","nodeType":"YulBlock","src":"2472:584:71","statements":[{"nativeSrc":"2486:22:71","nodeType":"YulVariableDeclaration","src":"2486:22:71","value":{"arguments":[{"kind":"number","nativeSrc":"2503:4:71","nodeType":"YulLiteral","src":"2503:4:71","type":"","value":"0x40"}],"functionName":{"name":"mload","nativeSrc":"2497:5:71","nodeType":"YulIdentifier","src":"2497:5:71"},"nativeSrc":"2497:11:71","nodeType":"YulFunctionCall","src":"2497:11:71"},"variables":[{"name":"fmp","nativeSrc":"2490:3:71","nodeType":"YulTypedName","src":"2490:3:71","type":""}]},{"expression":{"arguments":[{"arguments":[{"name":"fmp","nativeSrc":"2532:3:71","nodeType":"YulIdentifier","src":"2532:3:71"},{"kind":"number","nativeSrc":"2537:4:71","nodeType":"YulLiteral","src":"2537:4:71","type":"","value":"0x26"}],"functionName":{"name":"add","nativeSrc":"2528:3:71","nodeType":"YulIdentifier","src":"2528:3:71"},"nativeSrc":"2528:14:71","nodeType":"YulFunctionCall","src":"2528:14:71"},{"name":"salt","nativeSrc":"2544:4:71","nodeType":"YulIdentifier","src":"2544:4:71"}],"functionName":{"name":"mstore","nativeSrc":"2521:6:71","nodeType":"YulIdentifier","src":"2521:6:71"},"nativeSrc":"2521:28:71","nodeType":"YulFunctionCall","src":"2521:28:71"},"nativeSrc":"2521:28:71","nodeType":"YulExpressionStatement","src":"2521:28:71"},{"expression":{"arguments":[{"arguments":[{"name":"fmp","nativeSrc":"2589:3:71","nodeType":"YulIdentifier","src":"2589:3:71"},{"kind":"number","nativeSrc":"2594:4:71","nodeType":"YulLiteral","src":"2594:4:71","type":"","value":"0x06"}],"functionName":{"name":"add","nativeSrc":"2585:3:71","nodeType":"YulIdentifier","src":"2585:3:71"},"nativeSrc":"2585:14:71","nodeType":"YulFunctionCall","src":"2585:14:71"},{"name":"tickUpper","nativeSrc":"2601:9:71","nodeType":"YulIdentifier","src":"2601:9:71"}],"functionName":{"name":"mstore","nativeSrc":"2578:6:71","nodeType":"YulIdentifier","src":"2578:6:71"},"nativeSrc":"2578:33:71","nodeType":"YulFunctionCall","src":"2578:33:71"},"nativeSrc":"2578:33:71","nodeType":"YulExpressionStatement","src":"2578:33:71"},{"expression":{"arguments":[{"arguments":[{"name":"fmp","nativeSrc":"2651:3:71","nodeType":"YulIdentifier","src":"2651:3:71"},{"kind":"number","nativeSrc":"2656:4:71","nodeType":"YulLiteral","src":"2656:4:71","type":"","value":"0x03"}],"functionName":{"name":"add","nativeSrc":"2647:3:71","nodeType":"YulIdentifier","src":"2647:3:71"},"nativeSrc":"2647:14:71","nodeType":"YulFunctionCall","src":"2647:14:71"},{"name":"tickLower","nativeSrc":"2663:9:71","nodeType":"YulIdentifier","src":"2663:9:71"}],"functionName":{"name":"mstore","nativeSrc":"2640:6:71","nodeType":"YulIdentifier","src":"2640:6:71"},"nativeSrc":"2640:33:71","nodeType":"YulFunctionCall","src":"2640:33:71"},"nativeSrc":"2640:33:71","nodeType":"YulExpressionStatement","src":"2640:33:71"},{"expression":{"arguments":[{"name":"fmp","nativeSrc":"2709:3:71","nodeType":"YulIdentifier","src":"2709:3:71"},{"name":"owner","nativeSrc":"2714:5:71","nodeType":"YulIdentifier","src":"2714:5:71"}],"functionName":{"name":"mstore","nativeSrc":"2702:6:71","nodeType":"YulIdentifier","src":"2702:6:71"},"nativeSrc":"2702:18:71","nodeType":"YulFunctionCall","src":"2702:18:71"},"nativeSrc":"2702:18:71","nodeType":"YulExpressionStatement","src":"2702:18:71"},{"nativeSrc":"2749:46:71","nodeType":"YulAssignment","src":"2749:46:71","value":{"arguments":[{"arguments":[{"name":"fmp","nativeSrc":"2778:3:71","nodeType":"YulIdentifier","src":"2778:3:71"},{"kind":"number","nativeSrc":"2783:4:71","nodeType":"YulLiteral","src":"2783:4:71","type":"","value":"0x0c"}],"functionName":{"name":"add","nativeSrc":"2774:3:71","nodeType":"YulIdentifier","src":"2774:3:71"},"nativeSrc":"2774:14:71","nodeType":"YulFunctionCall","src":"2774:14:71"},{"kind":"number","nativeSrc":"2790:4:71","nodeType":"YulLiteral","src":"2790:4:71","type":"","value":"0x3a"}],"functionName":{"name":"keccak256","nativeSrc":"2764:9:71","nodeType":"YulIdentifier","src":"2764:9:71"},"nativeSrc":"2764:31:71","nodeType":"YulFunctionCall","src":"2764:31:71"},"variableNames":[{"name":"positionKey","nativeSrc":"2749:11:71","nodeType":"YulIdentifier","src":"2749:11:71"}]},{"expression":{"arguments":[{"arguments":[{"name":"fmp","nativeSrc":"2883:3:71","nodeType":"YulIdentifier","src":"2883:3:71"},{"kind":"number","nativeSrc":"2888:4:71","nodeType":"YulLiteral","src":"2888:4:71","type":"","value":"0x40"}],"functionName":{"name":"add","nativeSrc":"2879:3:71","nodeType":"YulIdentifier","src":"2879:3:71"},"nativeSrc":"2879:14:71","nodeType":"YulFunctionCall","src":"2879:14:71"},{"kind":"number","nativeSrc":"2895:1:71","nodeType":"YulLiteral","src":"2895:1:71","type":"","value":"0"}],"functionName":{"name":"mstore","nativeSrc":"2872:6:71","nodeType":"YulIdentifier","src":"2872:6:71"},"nativeSrc":"2872:25:71","nodeType":"YulFunctionCall","src":"2872:25:71"},"nativeSrc":"2872:25:71","nodeType":"YulExpressionStatement","src":"2872:25:71"},{"expression":{"arguments":[{"arguments":[{"name":"fmp","nativeSrc":"2943:3:71","nodeType":"YulIdentifier","src":"2943:3:71"},{"kind":"number","nativeSrc":"2948:4:71","nodeType":"YulLiteral","src":"2948:4:71","type":"","value":"0x20"}],"functionName":{"name":"add","nativeSrc":"2939:3:71","nodeType":"YulIdentifier","src":"2939:3:71"},"nativeSrc":"2939:14:71","nodeType":"YulFunctionCall","src":"2939:14:71"},{"kind":"number","nativeSrc":"2955:1:71","nodeType":"YulLiteral","src":"2955:1:71","type":"","value":"0"}],"functionName":{"name":"mstore","nativeSrc":"2932:6:71","nodeType":"YulIdentifier","src":"2932:6:71"},"nativeSrc":"2932:25:71","nodeType":"YulFunctionCall","src":"2932:25:71"},"nativeSrc":"2932:25:71","nodeType":"YulExpressionStatement","src":"2932:25:71"},{"expression":{"arguments":[{"name":"fmp","nativeSrc":"3021:3:71","nodeType":"YulIdentifier","src":"3021:3:71"},{"kind":"number","nativeSrc":"3026:1:71","nodeType":"YulLiteral","src":"3026:1:71","type":"","value":"0"}],"functionName":{"name":"mstore","nativeSrc":"3014:6:71","nodeType":"YulIdentifier","src":"3014:6:71"},"nativeSrc":"3014:14:71","nodeType":"YulFunctionCall","src":"3014:14:71"},"nativeSrc":"3014:14:71","nodeType":"YulExpressionStatement","src":"3014:14:71"}]},"evmVersion":"cancun","externalReferences":[{"declaration":69796,"isOffset":false,"isSlot":false,"src":"2714:5:71","valueSize":1},{"declaration":69805,"isOffset":false,"isSlot":false,"src":"2749:11:71","valueSize":1},{"declaration":69802,"isOffset":false,"isSlot":false,"src":"2544:4:71","valueSize":1},{"declaration":69798,"isOffset":false,"isSlot":false,"src":"2663:9:71","valueSize":1},{"declaration":69800,"isOffset":false,"isSlot":false,"src":"2601:9:71","valueSize":1}],"flags":["memory-safe"],"id":69807,"nodeType":"InlineAssembly","src":"2447:609:71"}]},"documentation":{"id":69794,"nodeType":"StructuredDocumentation","src":"1793:386:71","text":"@notice A helper function to calculate the position key\n @param owner The address of the position owner\n @param tickLower the lower tick boundary of the position\n @param tickUpper the upper tick boundary of the position\n @param salt A unique value to differentiate between multiple positions in the same range, by the same owner. Passed in by the caller."},"implemented":true,"kind":"function","modifiers":[],"name":"calculatePositionKey","nameLocation":"2193:20:71","parameters":{"id":69803,"nodeType":"ParameterList","parameters":[{"constant":false,"id":69796,"mutability":"mutable","name":"owner","nameLocation":"2222:5:71","nodeType":"VariableDeclaration","scope":69809,"src":"2214:13:71","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":69795,"name":"address","nodeType":"ElementaryTypeName","src":"2214:7:71","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"},{"constant":false,"id":69798,"mutability":"mutable","name":"tickLower","nameLocation":"2235:9:71","nodeType":"VariableDeclaration","scope":69809,"src":"2229:15:71","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_int24","typeString":"int24"},"typeName":{"id":69797,"name":"int24","nodeType":"ElementaryTypeName","src":"2229:5:71","typeDescriptions":{"typeIdentifier":"t_int24","typeString":"int24"}},"visibility":"internal"},{"constant":false,"id":69800,"mutability":"mutable","name":"tickUpper","nameLocation":"2252:9:71","nodeType":"VariableDeclaration","scope":69809,"src":"2246:15:71","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_int24","typeString":"int24"},"typeName":{"id":69799,"name":"int24","nodeType":"ElementaryTypeName","src":"2246:5:71","typeDescriptions":{"typeIdentifier":"t_int24","typeString":"int24"}},"visibility":"internal"},{"constant":false,"id":69802,"mutability":"mutable","name":"salt","nameLocation":"2271:4:71","nodeType":"VariableDeclaration","scope":69809,"src":"2263:12:71","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"},"typeName":{"id":69801,"name":"bytes32","nodeType":"ElementaryTypeName","src":"2263:7:71","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"visibility":"internal"}],"src":"2213:63:71"},"returnParameters":{"id":69806,"nodeType":"ParameterList","parameters":[{"constant":false,"id":69805,"mutability":"mutable","name":"positionKey","nameLocation":"2332:11:71","nodeType":"VariableDeclaration","scope":69809,"src":"2324:19:71","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"},"typeName":{"id":69804,"name":"bytes32","nodeType":"ElementaryTypeName","src":"2324:7:71","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"visibility":"internal"}],"src":"2323:21:71"},"scope":69899,"stateMutability":"pure","virtual":false,"visibility":"internal"},{"id":69898,"nodeType":"FunctionDefinition","src":"3702:1108:71","nodes":[],"body":{"id":69897,"nodeType":"Block","src":"3915:895:71","nodes":[],"statements":[{"assignments":[69827],"declarations":[{"constant":false,"id":69827,"mutability":"mutable","name":"liquidity","nameLocation":"3933:9:71","nodeType":"VariableDeclaration","scope":69897,"src":"3925:17:71","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint128","typeString":"uint128"},"typeName":{"id":69826,"name":"uint128","nodeType":"ElementaryTypeName","src":"3925:7:71","typeDescriptions":{"typeIdentifier":"t_uint128","typeString":"uint128"}},"visibility":"internal"}],"id":69830,"initialValue":{"expression":{"id":69828,"name":"self","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":69813,"src":"3945:4:71","typeDescriptions":{"typeIdentifier":"t_struct$_State_$69757_storage_ptr","typeString":"struct Position.State storage pointer"}},"id":69829,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"3950:9:71","memberName":"liquidity","nodeType":"MemberAccess","referencedDeclaration":69752,"src":"3945:14:71","typeDescriptions":{"typeIdentifier":"t_uint128","typeString":"uint128"}},"nodeType":"VariableDeclarationStatement","src":"3925:34:71"},{"condition":{"commonType":{"typeIdentifier":"t_int128","typeString":"int128"},"id":69833,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":69831,"name":"liquidityDelta","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":69815,"src":"3974:14:71","typeDescriptions":{"typeIdentifier":"t_int128","typeString":"int128"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"hexValue":"30","id":69832,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"3992:1:71","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"src":"3974:19:71","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"falseBody":{"id":69856,"nodeType":"Block","src":"4149:91:71","statements":[{"expression":{"id":69854,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"expression":{"id":69846,"name":"self","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":69813,"src":"4163:4:71","typeDescriptions":{"typeIdentifier":"t_struct$_State_$69757_storage_ptr","typeString":"struct Position.State storage pointer"}},"id":69848,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":true,"memberLocation":"4168:9:71","memberName":"liquidity","nodeType":"MemberAccess","referencedDeclaration":69752,"src":"4163:14:71","typeDescriptions":{"typeIdentifier":"t_uint128","typeString":"uint128"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"arguments":[{"id":69851,"name":"liquidity","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":69827,"src":"4203:9:71","typeDescriptions":{"typeIdentifier":"t_uint128","typeString":"uint128"}},{"id":69852,"name":"liquidityDelta","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":69815,"src":"4214:14:71","typeDescriptions":{"typeIdentifier":"t_int128","typeString":"int128"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint128","typeString":"uint128"},{"typeIdentifier":"t_int128","typeString":"int128"}],"expression":{"id":69849,"name":"LiquidityMath","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":67972,"src":"4180:13:71","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_LiquidityMath_$67972_$","typeString":"type(library LiquidityMath)"}},"id":69850,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"4194:8:71","memberName":"addDelta","nodeType":"MemberAccess","referencedDeclaration":67971,"src":"4180:22:71","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint128_$_t_int128_$returns$_t_uint128_$","typeString":"function (uint128,int128) pure returns (uint128)"}},"id":69853,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"4180:49:71","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint128","typeString":"uint128"}},"src":"4163:66:71","typeDescriptions":{"typeIdentifier":"t_uint128","typeString":"uint128"}},"id":69855,"nodeType":"ExpressionStatement","src":"4163:66:71"}]},"id":69857,"nodeType":"IfStatement","src":"3970:270:71","trueBody":{"id":69845,"nodeType":"Block","src":"3995:148:71","statements":[{"condition":{"commonType":{"typeIdentifier":"t_uint128","typeString":"uint128"},"id":69836,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":69834,"name":"liquidity","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":69827,"src":"4069:9:71","typeDescriptions":{"typeIdentifier":"t_uint128","typeString":"uint128"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"hexValue":"30","id":69835,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"4082:1:71","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"src":"4069:14:71","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":69844,"nodeType":"IfStatement","src":"4065:67:71","trueBody":{"expression":{"arguments":[],"expression":{"argumentTypes":[],"expression":{"expression":{"id":69837,"name":"CannotUpdateEmptyPosition","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":69750,"src":"4085:25:71","typeDescriptions":{"typeIdentifier":"t_function_error_pure$__$returns$_t_error_$","typeString":"function () pure returns (error)"}},"id":69840,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"4111:8:71","memberName":"selector","nodeType":"MemberAccess","src":"4085:34:71","typeDescriptions":{"typeIdentifier":"t_bytes4","typeString":"bytes4"}},"id":69841,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"4120:10:71","memberName":"revertWith","nodeType":"MemberAccess","referencedDeclaration":66366,"src":"4085:45:71","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_bytes4_$returns$__$attached_to$_t_bytes4_$","typeString":"function (bytes4) pure"}},"id":69842,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"4085:47:71","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":69843,"nodeType":"ExpressionStatement","src":"4085:47:71"}}]}},{"id":69884,"nodeType":"UncheckedBlock","src":"4343:305:71","statements":[{"expression":{"id":69869,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":69858,"name":"feesOwed0","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":69822,"src":"4367:9:71","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"arguments":[{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":69864,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":69861,"name":"feeGrowthInside0X128","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":69817,"src":"4411:20:71","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"-","rightExpression":{"expression":{"id":69862,"name":"self","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":69813,"src":"4434:4:71","typeDescriptions":{"typeIdentifier":"t_struct$_State_$69757_storage_ptr","typeString":"struct Position.State storage pointer"}},"id":69863,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"4439:24:71","memberName":"feeGrowthInside0LastX128","nodeType":"MemberAccess","referencedDeclaration":69754,"src":"4434:29:71","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"4411:52:71","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"id":69865,"name":"liquidity","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":69827,"src":"4465:9:71","typeDescriptions":{"typeIdentifier":"t_uint128","typeString":"uint128"}},{"expression":{"id":69866,"name":"FixedPoint128","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":66457,"src":"4476:13:71","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_FixedPoint128_$66457_$","typeString":"type(library FixedPoint128)"}},"id":69867,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"memberLocation":"4490:4:71","memberName":"Q128","nodeType":"MemberAccess","referencedDeclaration":66456,"src":"4476:18:71","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint128","typeString":"uint128"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"id":69859,"name":"FullMath","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":66635,"src":"4395:8:71","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_FullMath_$66635_$","typeString":"type(library FullMath)"}},"id":69860,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"4404:6:71","memberName":"mulDiv","nodeType":"MemberAccess","referencedDeclaration":66596,"src":"4395:15:71","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint256_$_t_uint256_$_t_uint256_$returns$_t_uint256_$","typeString":"function (uint256,uint256,uint256) pure returns (uint256)"}},"id":69868,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"4395:100:71","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"4367:128:71","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":69870,"nodeType":"ExpressionStatement","src":"4367:128:71"},{"expression":{"id":69882,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":69871,"name":"feesOwed1","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":69824,"src":"4509:9:71","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"arguments":[{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":69877,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":69874,"name":"feeGrowthInside1X128","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":69819,"src":"4553:20:71","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"-","rightExpression":{"expression":{"id":69875,"name":"self","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":69813,"src":"4576:4:71","typeDescriptions":{"typeIdentifier":"t_struct$_State_$69757_storage_ptr","typeString":"struct Position.State storage pointer"}},"id":69876,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"4581:24:71","memberName":"feeGrowthInside1LastX128","nodeType":"MemberAccess","referencedDeclaration":69756,"src":"4576:29:71","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"4553:52:71","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"id":69878,"name":"liquidity","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":69827,"src":"4607:9:71","typeDescriptions":{"typeIdentifier":"t_uint128","typeString":"uint128"}},{"expression":{"id":69879,"name":"FixedPoint128","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":66457,"src":"4618:13:71","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_FixedPoint128_$66457_$","typeString":"type(library FixedPoint128)"}},"id":69880,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"memberLocation":"4632:4:71","memberName":"Q128","nodeType":"MemberAccess","referencedDeclaration":66456,"src":"4618:18:71","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint128","typeString":"uint128"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"id":69872,"name":"FullMath","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":66635,"src":"4537:8:71","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_FullMath_$66635_$","typeString":"type(library FullMath)"}},"id":69873,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"4546:6:71","memberName":"mulDiv","nodeType":"MemberAccess","referencedDeclaration":66596,"src":"4537:15:71","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint256_$_t_uint256_$_t_uint256_$returns$_t_uint256_$","typeString":"function (uint256,uint256,uint256) pure returns (uint256)"}},"id":69881,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"4537:100:71","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"4509:128:71","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":69883,"nodeType":"ExpressionStatement","src":"4509:128:71"}]},{"expression":{"id":69889,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"expression":{"id":69885,"name":"self","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":69813,"src":"4689:4:71","typeDescriptions":{"typeIdentifier":"t_struct$_State_$69757_storage_ptr","typeString":"struct Position.State storage pointer"}},"id":69887,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":true,"memberLocation":"4694:24:71","memberName":"feeGrowthInside0LastX128","nodeType":"MemberAccess","referencedDeclaration":69754,"src":"4689:29:71","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"id":69888,"name":"feeGrowthInside0X128","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":69817,"src":"4721:20:71","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"4689:52:71","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":69890,"nodeType":"ExpressionStatement","src":"4689:52:71"},{"expression":{"id":69895,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"expression":{"id":69891,"name":"self","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":69813,"src":"4751:4:71","typeDescriptions":{"typeIdentifier":"t_struct$_State_$69757_storage_ptr","typeString":"struct Position.State storage pointer"}},"id":69893,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":true,"memberLocation":"4756:24:71","memberName":"feeGrowthInside1LastX128","nodeType":"MemberAccess","referencedDeclaration":69756,"src":"4751:29:71","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"id":69894,"name":"feeGrowthInside1X128","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":69819,"src":"4783:20:71","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"4751:52:71","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":69896,"nodeType":"ExpressionStatement","src":"4751:52:71"}]},"documentation":{"id":69810,"nodeType":"StructuredDocumentation","src":"3068:629:71","text":"@notice Credits accumulated fees to a user's position\n @param self The individual position to update\n @param liquidityDelta The change in pool liquidity as a result of the position update\n @param feeGrowthInside0X128 The all-time fee growth in currency0, per unit of liquidity, inside the position's tick boundaries\n @param feeGrowthInside1X128 The all-time fee growth in currency1, per unit of liquidity, inside the position's tick boundaries\n @return feesOwed0 The amount of currency0 owed to the position owner\n @return feesOwed1 The amount of currency1 owed to the position owner"},"implemented":true,"kind":"function","modifiers":[],"name":"update","nameLocation":"3711:6:71","parameters":{"id":69820,"nodeType":"ParameterList","parameters":[{"constant":false,"id":69813,"mutability":"mutable","name":"self","nameLocation":"3741:4:71","nodeType":"VariableDeclaration","scope":69898,"src":"3727:18:71","stateVariable":false,"storageLocation":"storage","typeDescriptions":{"typeIdentifier":"t_struct$_State_$69757_storage_ptr","typeString":"struct Position.State"},"typeName":{"id":69812,"nodeType":"UserDefinedTypeName","pathNode":{"id":69811,"name":"State","nameLocations":["3727:5:71"],"nodeType":"IdentifierPath","referencedDeclaration":69757,"src":"3727:5:71"},"referencedDeclaration":69757,"src":"3727:5:71","typeDescriptions":{"typeIdentifier":"t_struct$_State_$69757_storage_ptr","typeString":"struct Position.State"}},"visibility":"internal"},{"constant":false,"id":69815,"mutability":"mutable","name":"liquidityDelta","nameLocation":"3762:14:71","nodeType":"VariableDeclaration","scope":69898,"src":"3755:21:71","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_int128","typeString":"int128"},"typeName":{"id":69814,"name":"int128","nodeType":"ElementaryTypeName","src":"3755:6:71","typeDescriptions":{"typeIdentifier":"t_int128","typeString":"int128"}},"visibility":"internal"},{"constant":false,"id":69817,"mutability":"mutable","name":"feeGrowthInside0X128","nameLocation":"3794:20:71","nodeType":"VariableDeclaration","scope":69898,"src":"3786:28:71","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":69816,"name":"uint256","nodeType":"ElementaryTypeName","src":"3786:7:71","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":69819,"mutability":"mutable","name":"feeGrowthInside1X128","nameLocation":"3832:20:71","nodeType":"VariableDeclaration","scope":69898,"src":"3824:28:71","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":69818,"name":"uint256","nodeType":"ElementaryTypeName","src":"3824:7:71","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"3717:141:71"},"returnParameters":{"id":69825,"nodeType":"ParameterList","parameters":[{"constant":false,"id":69822,"mutability":"mutable","name":"feesOwed0","nameLocation":"3885:9:71","nodeType":"VariableDeclaration","scope":69898,"src":"3877:17:71","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":69821,"name":"uint256","nodeType":"ElementaryTypeName","src":"3877:7:71","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":69824,"mutability":"mutable","name":"feesOwed1","nameLocation":"3904:9:71","nodeType":"VariableDeclaration","scope":69898,"src":"3896:17:71","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":69823,"name":"uint256","nodeType":"ElementaryTypeName","src":"3896:7:71","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"3876:38:71"},"scope":69899,"stateMutability":"nonpayable","virtual":false,"visibility":"internal"}],"abstract":false,"baseContracts":[],"canonicalName":"Position","contractDependencies":[],"contractKind":"library","documentation":{"id":69744,"nodeType":"StructuredDocumentation","src":"255:201:71","text":"@title Position\n @notice Positions represent an owner address' liquidity between a lower and upper tick boundary\n @dev Positions store additional state for tracking fees owed to the position"},"fullyImplemented":true,"linearizedBaseContracts":[69899],"name":"Position","nameLocation":"464:8:71","scope":69900,"usedErrors":[69750],"usedEvents":[]}],"license":"BUSL-1.1"},"id":71}