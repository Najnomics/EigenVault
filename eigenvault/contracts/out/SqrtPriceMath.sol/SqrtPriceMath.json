{"abi":[{"type":"error","name":"InvalidPrice","inputs":[]},{"type":"error","name":"InvalidPriceOrLiquidity","inputs":[]},{"type":"error","name":"NotEnoughLiquidity","inputs":[]},{"type":"error","name":"PriceOverflow","inputs":[]}],"bytecode":{"object":"0x6055604b600b8282823980515f1a607314603f577f4e487b71000000000000000000000000000000000000000000000000000000005f525f60045260245ffd5b305f52607381538281f3fe730000000000000000000000000000000000000000301460806040525f80fdfea264697066735822122095f4e5c7b35454de1fd339aca4cf9862817f53f947af1fabc24cbc50e03c2da064736f6c634300081a0033","sourceMap":"402:13673:74:-:0;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;","linkReferences":{}},"deployedBytecode":{"object":"0x730000000000000000000000000000000000000000301460806040525f80fdfea264697066735822122095f4e5c7b35454de1fd339aca4cf9862817f53f947af1fabc24cbc50e03c2da064736f6c634300081a0033","sourceMap":"402:13673:74:-:0;;;;;;;;","linkReferences":{}},"methodIdentifiers":{},"rawMetadata":"{\"compiler\":{\"version\":\"0.8.26+commit.8a97fa7a\"},\"language\":\"Solidity\",\"output\":{\"abi\":[{\"inputs\":[],\"name\":\"InvalidPrice\",\"type\":\"error\"},{\"inputs\":[],\"name\":\"InvalidPriceOrLiquidity\",\"type\":\"error\"},{\"inputs\":[],\"name\":\"NotEnoughLiquidity\",\"type\":\"error\"},{\"inputs\":[],\"name\":\"PriceOverflow\",\"type\":\"error\"}],\"devdoc\":{\"kind\":\"dev\",\"methods\":{},\"title\":\"Functions based on Q64.96 sqrt price and liquidity\",\"version\":1},\"userdoc\":{\"kind\":\"user\",\"methods\":{},\"notice\":\"Contains the math that uses square root of price as a Q64.96 and liquidity to compute deltas\",\"version\":1}},\"settings\":{\"compilationTarget\":{\"lib/v4-core/src/libraries/SqrtPriceMath.sol\":\"SqrtPriceMath\"},\"evmVersion\":\"cancun\",\"libraries\":{},\"metadata\":{\"bytecodeHash\":\"ipfs\"},\"optimizer\":{\"enabled\":false,\"runs\":200},\"remappings\":[\":@eigenlayer-middleware/=lib/eigenlayer-middleware/src/\",\":@eigenlayer/=lib/eigenlayer-contracts/src/contracts/\",\":@ensdomains/=lib/v4-core/node_modules/@ensdomains/\",\":@forge-std/=lib/forge-std/src/\",\":@openzeppelin-upgrades/=lib/eigenlayer-middleware/lib/openzeppelin-contracts-upgradeable/\",\":@openzeppelin/contracts/=lib/openzeppelin-contracts/contracts/\",\":@uniswap/v4-core/=lib/v4-core/\",\":@uniswap/v4-periphery/=lib/v4-periphery/\",\":ds-test/=lib/eigenlayer-middleware/lib/ds-test/src/\",\":eigenlayer-contracts/=lib/eigenlayer-contracts/\",\":eigenlayer-middleware/=lib/eigenlayer-middleware/\",\":erc4626-tests/=lib/openzeppelin-contracts/lib/erc4626-tests/\",\":forge-gas-snapshot/=lib/v4-periphery/lib/permit2/lib/forge-gas-snapshot/src/\",\":forge-std/=lib/forge-std/src/\",\":halmos-cheatcodes/=lib/openzeppelin-contracts/lib/halmos-cheatcodes/src/\",\":hardhat/=lib/v4-core/node_modules/hardhat/\",\":openzeppelin-contracts-upgradeable-v4.9.0/=lib/eigenlayer-contracts/lib/openzeppelin-contracts-upgradeable-v4.9.0/\",\":openzeppelin-contracts-upgradeable/=lib/eigenlayer-middleware/lib/openzeppelin-contracts-upgradeable/\",\":openzeppelin-contracts-v4.9.0/=lib/eigenlayer-contracts/lib/openzeppelin-contracts-v4.9.0/\",\":openzeppelin-contracts/=lib/openzeppelin-contracts/\",\":openzeppelin/=lib/eigenlayer-middleware/lib/openzeppelin-contracts-upgradeable/contracts/\",\":permit2/=lib/v4-periphery/lib/permit2/\",\":solmate/=lib/v4-core/lib/solmate/\",\":v4-core/=lib/v4-core/src/\",\":v4-periphery/=lib/v4-periphery/\",\":zeus-templates/=lib/eigenlayer-contracts/lib/zeus-templates/src/\"]},\"sources\":{\"lib/v4-core/src/libraries/CustomRevert.sol\":{\"keccak256\":\"0x111ed3031b6990c80a93ae35dde6b6ac0b7e6af471388fdd7461e91edda9b7de\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://c9ea883c98d6ae1829160d0977bb5195761cfd5bc81692d0a941f45717f594cd\",\"dweb:/ipfs/QmZPwxzaeMNv536wzrAMrMswu7vMHuqPVpjcqL3YvCMoxt\"]},\"lib/v4-core/src/libraries/FixedPoint96.sol\":{\"keccak256\":\"0xef5c3fd41aee26bb12aa1c32873cfee88e67eddfe7c2b32283786265ac669741\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://4de298d02f662a1c36c7be0a150f18c2a161408a5d3e48432e707efd01fac9a4\",\"dweb:/ipfs/QmSiM4oeMmLVKmAtJXz2feYkv4R9ZcyBpkTRW5Nhw5KDyJ\"]},\"lib/v4-core/src/libraries/FullMath.sol\":{\"keccak256\":\"0x4fc73a00817193fd3cac1cc03d8167d21af97d75f1815a070ee31a90c702b4c2\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://c3b2d66d36b1ad56b1ab6e2eb8a816740877b40b461c93f125e88621c8378e52\",\"dweb:/ipfs/QmPGvMZzKQvNiWKd8aRzzdW7oAizwrMgcMtnaworDkVHFC\"]},\"lib/v4-core/src/libraries/SafeCast.sol\":{\"keccak256\":\"0x42c4a24f996a14d358be397b71f7ec9d7daf666aaec78002c63315a6ee67aa86\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://c3db86e2ba3679105fc32edec656c70282e1fede6cab11217702443f6c26fa59\",\"dweb:/ipfs/QmX4yaaSPdKQzYNRsezjTvZKsubzS8JRTEGFD3fPpTTCcj\"]},\"lib/v4-core/src/libraries/SqrtPriceMath.sol\":{\"keccak256\":\"0xf8079fe6e3460db495451d06b1705e18f1c4075c1af96a31ad313545f7082982\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://582fc51546723a0a8acccf782f69b530bacf9b3ef929458e82569b7121f0b138\",\"dweb:/ipfs/QmSBXcmqZdFsM7M4sRaiyQAxykCeMNFKyKgBcwSMTw1bcF\"]},\"lib/v4-core/src/libraries/UnsafeMath.sol\":{\"keccak256\":\"0xa6e55e0a43a15df2df471d9972cd48f613d07c663ecb8bbeaf7623f6f99bcce4\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://02ea6e13879fc5a5f35149a2f1cd8af3a1f0877ff69101dad53841d16f515572\",\"dweb:/ipfs/QmcpL4gdG6hL2w1wqs2Vw4J1EFCwBs9T1Qd4p16CtECQkn\"]}},\"version\":1}","metadata":{"compiler":{"version":"0.8.26+commit.8a97fa7a"},"language":"Solidity","output":{"abi":[{"inputs":[],"type":"error","name":"InvalidPrice"},{"inputs":[],"type":"error","name":"InvalidPriceOrLiquidity"},{"inputs":[],"type":"error","name":"NotEnoughLiquidity"},{"inputs":[],"type":"error","name":"PriceOverflow"}],"devdoc":{"kind":"dev","methods":{},"version":1},"userdoc":{"kind":"user","methods":{},"version":1}},"settings":{"remappings":["@eigenlayer-middleware/=lib/eigenlayer-middleware/src/","@eigenlayer/=lib/eigenlayer-contracts/src/contracts/","@ensdomains/=lib/v4-core/node_modules/@ensdomains/","@forge-std/=lib/forge-std/src/","@openzeppelin-upgrades/=lib/eigenlayer-middleware/lib/openzeppelin-contracts-upgradeable/","@openzeppelin/contracts/=lib/openzeppelin-contracts/contracts/","@uniswap/v4-core/=lib/v4-core/","@uniswap/v4-periphery/=lib/v4-periphery/","ds-test/=lib/eigenlayer-middleware/lib/ds-test/src/","eigenlayer-contracts/=lib/eigenlayer-contracts/","eigenlayer-middleware/=lib/eigenlayer-middleware/","erc4626-tests/=lib/openzeppelin-contracts/lib/erc4626-tests/","forge-gas-snapshot/=lib/v4-periphery/lib/permit2/lib/forge-gas-snapshot/src/","forge-std/=lib/forge-std/src/","halmos-cheatcodes/=lib/openzeppelin-contracts/lib/halmos-cheatcodes/src/","hardhat/=lib/v4-core/node_modules/hardhat/","openzeppelin-contracts-upgradeable-v4.9.0/=lib/eigenlayer-contracts/lib/openzeppelin-contracts-upgradeable-v4.9.0/","openzeppelin-contracts-upgradeable/=lib/eigenlayer-middleware/lib/openzeppelin-contracts-upgradeable/","openzeppelin-contracts-v4.9.0/=lib/eigenlayer-contracts/lib/openzeppelin-contracts-v4.9.0/","openzeppelin-contracts/=lib/openzeppelin-contracts/","openzeppelin/=lib/eigenlayer-middleware/lib/openzeppelin-contracts-upgradeable/contracts/","permit2/=lib/v4-periphery/lib/permit2/","solmate/=lib/v4-core/lib/solmate/","v4-core/=lib/v4-core/src/","v4-periphery/=lib/v4-periphery/","zeus-templates/=lib/eigenlayer-contracts/lib/zeus-templates/src/"],"optimizer":{"enabled":false,"runs":200},"metadata":{"bytecodeHash":"ipfs"},"compilationTarget":{"lib/v4-core/src/libraries/SqrtPriceMath.sol":"SqrtPriceMath"},"evmVersion":"cancun","libraries":{}},"sources":{"lib/v4-core/src/libraries/CustomRevert.sol":{"keccak256":"0x111ed3031b6990c80a93ae35dde6b6ac0b7e6af471388fdd7461e91edda9b7de","urls":["bzz-raw://c9ea883c98d6ae1829160d0977bb5195761cfd5bc81692d0a941f45717f594cd","dweb:/ipfs/QmZPwxzaeMNv536wzrAMrMswu7vMHuqPVpjcqL3YvCMoxt"],"license":"MIT"},"lib/v4-core/src/libraries/FixedPoint96.sol":{"keccak256":"0xef5c3fd41aee26bb12aa1c32873cfee88e67eddfe7c2b32283786265ac669741","urls":["bzz-raw://4de298d02f662a1c36c7be0a150f18c2a161408a5d3e48432e707efd01fac9a4","dweb:/ipfs/QmSiM4oeMmLVKmAtJXz2feYkv4R9ZcyBpkTRW5Nhw5KDyJ"],"license":"MIT"},"lib/v4-core/src/libraries/FullMath.sol":{"keccak256":"0x4fc73a00817193fd3cac1cc03d8167d21af97d75f1815a070ee31a90c702b4c2","urls":["bzz-raw://c3b2d66d36b1ad56b1ab6e2eb8a816740877b40b461c93f125e88621c8378e52","dweb:/ipfs/QmPGvMZzKQvNiWKd8aRzzdW7oAizwrMgcMtnaworDkVHFC"],"license":"MIT"},"lib/v4-core/src/libraries/SafeCast.sol":{"keccak256":"0x42c4a24f996a14d358be397b71f7ec9d7daf666aaec78002c63315a6ee67aa86","urls":["bzz-raw://c3db86e2ba3679105fc32edec656c70282e1fede6cab11217702443f6c26fa59","dweb:/ipfs/QmX4yaaSPdKQzYNRsezjTvZKsubzS8JRTEGFD3fPpTTCcj"],"license":"MIT"},"lib/v4-core/src/libraries/SqrtPriceMath.sol":{"keccak256":"0xf8079fe6e3460db495451d06b1705e18f1c4075c1af96a31ad313545f7082982","urls":["bzz-raw://582fc51546723a0a8acccf782f69b530bacf9b3ef929458e82569b7121f0b138","dweb:/ipfs/QmSBXcmqZdFsM7M4sRaiyQAxykCeMNFKyKgBcwSMTw1bcF"],"license":"MIT"},"lib/v4-core/src/libraries/UnsafeMath.sol":{"keccak256":"0xa6e55e0a43a15df2df471d9972cd48f613d07c663ecb8bbeaf7623f6f99bcce4","urls":["bzz-raw://02ea6e13879fc5a5f35149a2f1cd8af3a1f0877ff69101dad53841d16f515572","dweb:/ipfs/QmcpL4gdG6hL2w1wqs2Vw4J1EFCwBs9T1Qd4p16CtECQkn"],"license":"MIT"}},"version":1},"ast":{"absolutePath":"lib/v4-core/src/libraries/SqrtPriceMath.sol","id":70639,"exportedSymbols":{"FixedPoint96":[66467],"FullMath":[66635],"SafeCast":[70147],"SqrtPriceMath":[70638],"UnsafeMath":[72363]},"nodeType":"SourceUnit","src":"32:14044:74","nodes":[{"id":70149,"nodeType":"PragmaDirective","src":"32:23:74","nodes":[],"literals":["solidity","^","0.8",".0"]},{"id":70151,"nodeType":"ImportDirective","src":"57:40:74","nodes":[],"absolutePath":"lib/v4-core/src/libraries/SafeCast.sol","file":"./SafeCast.sol","nameLocation":"-1:-1:-1","scope":70639,"sourceUnit":70148,"symbolAliases":[{"foreign":{"id":70150,"name":"SafeCast","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":70147,"src":"65:8:74","typeDescriptions":{}},"nameLocation":"-1:-1:-1"}],"unitAlias":""},{"id":70153,"nodeType":"ImportDirective","src":"99:40:74","nodes":[],"absolutePath":"lib/v4-core/src/libraries/FullMath.sol","file":"./FullMath.sol","nameLocation":"-1:-1:-1","scope":70639,"sourceUnit":66636,"symbolAliases":[{"foreign":{"id":70152,"name":"FullMath","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":66635,"src":"107:8:74","typeDescriptions":{}},"nameLocation":"-1:-1:-1"}],"unitAlias":""},{"id":70155,"nodeType":"ImportDirective","src":"140:44:74","nodes":[],"absolutePath":"lib/v4-core/src/libraries/UnsafeMath.sol","file":"./UnsafeMath.sol","nameLocation":"-1:-1:-1","scope":70639,"sourceUnit":72364,"symbolAliases":[{"foreign":{"id":70154,"name":"UnsafeMath","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":72363,"src":"148:10:74","typeDescriptions":{}},"nameLocation":"-1:-1:-1"}],"unitAlias":""},{"id":70157,"nodeType":"ImportDirective","src":"185:48:74","nodes":[],"absolutePath":"lib/v4-core/src/libraries/FixedPoint96.sol","file":"./FixedPoint96.sol","nameLocation":"-1:-1:-1","scope":70639,"sourceUnit":66468,"symbolAliases":[{"foreign":{"id":70156,"name":"FixedPoint96","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":66467,"src":"193:12:74","typeDescriptions":{}},"nameLocation":"-1:-1:-1"}],"unitAlias":""},{"id":70638,"nodeType":"ContractDefinition","src":"402:13673:74","nodes":[{"id":70161,"nodeType":"UsingForDirective","src":"430:27:74","nodes":[],"global":false,"libraryName":{"id":70159,"name":"SafeCast","nameLocations":["436:8:74"],"nodeType":"IdentifierPath","referencedDeclaration":70147,"src":"436:8:74"},"typeName":{"id":70160,"name":"uint256","nodeType":"ElementaryTypeName","src":"449:7:74","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}},{"id":70163,"nodeType":"ErrorDefinition","src":"463:32:74","nodes":[],"errorSelector":"4f2461b8","name":"InvalidPriceOrLiquidity","nameLocation":"469:23:74","parameters":{"id":70162,"nodeType":"ParameterList","parameters":[],"src":"492:2:74"}},{"id":70165,"nodeType":"ErrorDefinition","src":"500:21:74","nodes":[],"errorSelector":"00bfc921","name":"InvalidPrice","nameLocation":"506:12:74","parameters":{"id":70164,"nodeType":"ParameterList","parameters":[],"src":"518:2:74"}},{"id":70167,"nodeType":"ErrorDefinition","src":"526:27:74","nodes":[],"errorSelector":"4323a555","name":"NotEnoughLiquidity","nameLocation":"532:18:74","parameters":{"id":70166,"nodeType":"ParameterList","parameters":[],"src":"550:2:74"}},{"id":70169,"nodeType":"ErrorDefinition","src":"558:22:74","nodes":[],"errorSelector":"f5c787f1","name":"PriceOverflow","nameLocation":"564:13:74","parameters":{"id":70168,"nodeType":"ParameterList","parameters":[],"src":"577:2:74"}},{"id":70276,"nodeType":"FunctionDefinition","src":"1535:2065:74","nodes":[],"body":{"id":70275,"nodeType":"Block","src":"1705:1895:74","nodes":[],"statements":[{"condition":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":70185,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":70183,"name":"amount","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":70176,"src":"1831:6:74","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"hexValue":"30","id":70184,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"1841:1:74","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"src":"1831:11:74","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":70188,"nodeType":"IfStatement","src":"1827:32:74","trueBody":{"expression":{"id":70186,"name":"sqrtPX96","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":70172,"src":"1851:8:74","typeDescriptions":{"typeIdentifier":"t_uint160","typeString":"uint160"}},"functionReturnParameters":70182,"id":70187,"nodeType":"Return","src":"1844:15:74"}},{"assignments":[70190],"declarations":[{"constant":false,"id":70190,"mutability":"mutable","name":"numerator1","nameLocation":"1877:10:74","nodeType":"VariableDeclaration","scope":70275,"src":"1869:18:74","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":70189,"name":"uint256","nodeType":"ElementaryTypeName","src":"1869:7:74","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":70198,"initialValue":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":70197,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"arguments":[{"id":70193,"name":"liquidity","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":70174,"src":"1898:9:74","typeDescriptions":{"typeIdentifier":"t_uint128","typeString":"uint128"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint128","typeString":"uint128"}],"id":70192,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"1890:7:74","typeDescriptions":{"typeIdentifier":"t_type$_t_uint256_$","typeString":"type(uint256)"},"typeName":{"id":70191,"name":"uint256","nodeType":"ElementaryTypeName","src":"1890:7:74","typeDescriptions":{}}},"id":70194,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"1890:18:74","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"<<","rightExpression":{"expression":{"id":70195,"name":"FixedPoint96","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":66467,"src":"1912:12:74","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_FixedPoint96_$66467_$","typeString":"type(library FixedPoint96)"}},"id":70196,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"memberLocation":"1925:10:74","memberName":"RESOLUTION","nodeType":"MemberAccess","referencedDeclaration":66463,"src":"1912:23:74","typeDescriptions":{"typeIdentifier":"t_uint8","typeString":"uint8"}},"src":"1890:45:74","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"VariableDeclarationStatement","src":"1869:66:74"},{"condition":{"id":70199,"name":"add","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":70178,"src":"1950:3:74","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"falseBody":{"id":70273,"nodeType":"Block","src":"2576:1018:74","statements":[{"id":70272,"nodeType":"UncheckedBlock","src":"2590:994:74","statements":[{"assignments":[70251],"declarations":[{"constant":false,"id":70251,"mutability":"mutable","name":"product","nameLocation":"2626:7:74","nodeType":"VariableDeclaration","scope":70272,"src":"2618:15:74","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":70250,"name":"uint256","nodeType":"ElementaryTypeName","src":"2618:7:74","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":70255,"initialValue":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":70254,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":70252,"name":"amount","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":70176,"src":"2636:6:74","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"*","rightExpression":{"id":70253,"name":"sqrtPX96","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":70172,"src":"2645:8:74","typeDescriptions":{"typeIdentifier":"t_uint160","typeString":"uint160"}},"src":"2636:17:74","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"VariableDeclarationStatement","src":"2618:35:74"},{"AST":{"nativeSrc":"2976:437:74","nodeType":"YulBlock","src":"2976:437:74","statements":[{"body":{"nativeSrc":"3251:144:74","nodeType":"YulBlock","src":"3251:144:74","statements":[{"expression":{"arguments":[{"kind":"number","nativeSrc":"3284:1:74","nodeType":"YulLiteral","src":"3284:1:74","type":"","value":"0"},{"kind":"number","nativeSrc":"3287:10:74","nodeType":"YulLiteral","src":"3287:10:74","type":"","value":"0xf5c787f1"}],"functionName":{"name":"mstore","nativeSrc":"3277:6:74","nodeType":"YulIdentifier","src":"3277:6:74"},"nativeSrc":"3277:21:74","nodeType":"YulFunctionCall","src":"3277:21:74"},"nativeSrc":"3277:21:74","nodeType":"YulExpressionStatement","src":"3277:21:74"},{"expression":{"arguments":[{"kind":"number","nativeSrc":"3362:4:74","nodeType":"YulLiteral","src":"3362:4:74","type":"","value":"0x1c"},{"kind":"number","nativeSrc":"3368:4:74","nodeType":"YulLiteral","src":"3368:4:74","type":"","value":"0x04"}],"functionName":{"name":"revert","nativeSrc":"3355:6:74","nodeType":"YulIdentifier","src":"3355:6:74"},"nativeSrc":"3355:18:74","nodeType":"YulFunctionCall","src":"3355:18:74"},"nativeSrc":"3355:18:74","nodeType":"YulExpressionStatement","src":"3355:18:74"}]},"condition":{"arguments":[{"arguments":[{"arguments":[{"arguments":[{"name":"product","nativeSrc":"3073:7:74","nodeType":"YulIdentifier","src":"3073:7:74"},{"name":"amount","nativeSrc":"3082:6:74","nodeType":"YulIdentifier","src":"3082:6:74"}],"functionName":{"name":"div","nativeSrc":"3069:3:74","nodeType":"YulIdentifier","src":"3069:3:74"},"nativeSrc":"3069:20:74","nodeType":"YulFunctionCall","src":"3069:20:74"},{"arguments":[{"name":"sqrtPX96","nativeSrc":"3095:8:74","nodeType":"YulIdentifier","src":"3095:8:74"},{"kind":"number","nativeSrc":"3105:42:74","nodeType":"YulLiteral","src":"3105:42:74","type":"","value":"0xffffffffffffffffffffffffffffffffffffffff"}],"functionName":{"name":"and","nativeSrc":"3091:3:74","nodeType":"YulIdentifier","src":"3091:3:74"},"nativeSrc":"3091:57:74","nodeType":"YulFunctionCall","src":"3091:57:74"}],"functionName":{"name":"eq","nativeSrc":"3066:2:74","nodeType":"YulIdentifier","src":"3066:2:74"},"nativeSrc":"3066:83:74","nodeType":"YulFunctionCall","src":"3066:83:74"},{"arguments":[{"name":"numerator1","nativeSrc":"3182:10:74","nodeType":"YulIdentifier","src":"3182:10:74"},{"name":"product","nativeSrc":"3194:7:74","nodeType":"YulIdentifier","src":"3194:7:74"}],"functionName":{"name":"gt","nativeSrc":"3179:2:74","nodeType":"YulIdentifier","src":"3179:2:74"},"nativeSrc":"3179:23:74","nodeType":"YulFunctionCall","src":"3179:23:74"}],"functionName":{"name":"and","nativeSrc":"3033:3:74","nodeType":"YulIdentifier","src":"3033:3:74"},"nativeSrc":"3033:195:74","nodeType":"YulFunctionCall","src":"3033:195:74"}],"functionName":{"name":"iszero","nativeSrc":"3001:6:74","nodeType":"YulIdentifier","src":"3001:6:74"},"nativeSrc":"3001:249:74","nodeType":"YulFunctionCall","src":"3001:249:74"},"nativeSrc":"2998:397:74","nodeType":"YulIf","src":"2998:397:74"}]},"evmVersion":"cancun","externalReferences":[{"declaration":70176,"isOffset":false,"isSlot":false,"src":"3082:6:74","valueSize":1},{"declaration":70190,"isOffset":false,"isSlot":false,"src":"3182:10:74","valueSize":1},{"declaration":70251,"isOffset":false,"isSlot":false,"src":"3073:7:74","valueSize":1},{"declaration":70251,"isOffset":false,"isSlot":false,"src":"3194:7:74","valueSize":1},{"declaration":70172,"isOffset":false,"isSlot":false,"src":"3095:8:74","valueSize":1}],"flags":["memory-safe"],"id":70256,"nodeType":"InlineAssembly","src":"2951:462:74"},{"assignments":[70258],"declarations":[{"constant":false,"id":70258,"mutability":"mutable","name":"denominator","nameLocation":"3438:11:74","nodeType":"VariableDeclaration","scope":70272,"src":"3430:19:74","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":70257,"name":"uint256","nodeType":"ElementaryTypeName","src":"3430:7:74","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":70262,"initialValue":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":70261,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":70259,"name":"numerator1","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":70190,"src":"3452:10:74","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"-","rightExpression":{"id":70260,"name":"product","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":70251,"src":"3465:7:74","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"3452:20:74","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"VariableDeclarationStatement","src":"3430:42:74"},{"expression":{"arguments":[],"expression":{"argumentTypes":[],"expression":{"arguments":[{"id":70265,"name":"numerator1","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":70190,"src":"3523:10:74","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"id":70266,"name":"sqrtPX96","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":70172,"src":"3535:8:74","typeDescriptions":{"typeIdentifier":"t_uint160","typeString":"uint160"}},{"id":70267,"name":"denominator","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":70258,"src":"3545:11:74","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint160","typeString":"uint160"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"id":70263,"name":"FullMath","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":66635,"src":"3497:8:74","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_FullMath_$66635_$","typeString":"type(library FullMath)"}},"id":70264,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"3506:16:74","memberName":"mulDivRoundingUp","nodeType":"MemberAccess","referencedDeclaration":66634,"src":"3497:25:74","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint256_$_t_uint256_$_t_uint256_$returns$_t_uint256_$","typeString":"function (uint256,uint256,uint256) pure returns (uint256)"}},"id":70268,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"3497:60:74","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":70269,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"3558:9:74","memberName":"toUint160","nodeType":"MemberAccess","referencedDeclaration":70008,"src":"3497:70:74","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint256_$returns$_t_uint160_$attached_to$_t_uint256_$","typeString":"function (uint256) pure returns (uint160)"}},"id":70270,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"3497:72:74","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint160","typeString":"uint160"}},"functionReturnParameters":70182,"id":70271,"nodeType":"Return","src":"3490:79:74"}]}]},"id":70274,"nodeType":"IfStatement","src":"1946:1648:74","trueBody":{"id":70249,"nodeType":"Block","src":"1955:615:74","statements":[{"id":70234,"nodeType":"UncheckedBlock","src":"1969:440:74","statements":[{"assignments":[70201],"declarations":[{"constant":false,"id":70201,"mutability":"mutable","name":"product","nameLocation":"2005:7:74","nodeType":"VariableDeclaration","scope":70234,"src":"1997:15:74","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":70200,"name":"uint256","nodeType":"ElementaryTypeName","src":"1997:7:74","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":70205,"initialValue":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":70204,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":70202,"name":"amount","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":70176,"src":"2015:6:74","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"*","rightExpression":{"id":70203,"name":"sqrtPX96","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":70172,"src":"2024:8:74","typeDescriptions":{"typeIdentifier":"t_uint160","typeString":"uint160"}},"src":"2015:17:74","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"VariableDeclarationStatement","src":"1997:35:74"},{"condition":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":70210,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":70208,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":70206,"name":"product","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":70201,"src":"2054:7:74","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"/","rightExpression":{"id":70207,"name":"amount","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":70176,"src":"2064:6:74","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"2054:16:74","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"id":70209,"name":"sqrtPX96","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":70172,"src":"2074:8:74","typeDescriptions":{"typeIdentifier":"t_uint160","typeString":"uint160"}},"src":"2054:28:74","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":70233,"nodeType":"IfStatement","src":"2050:345:74","trueBody":{"id":70232,"nodeType":"Block","src":"2084:311:74","statements":[{"assignments":[70212],"declarations":[{"constant":false,"id":70212,"mutability":"mutable","name":"denominator","nameLocation":"2114:11:74","nodeType":"VariableDeclaration","scope":70232,"src":"2106:19:74","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":70211,"name":"uint256","nodeType":"ElementaryTypeName","src":"2106:7:74","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":70216,"initialValue":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":70215,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":70213,"name":"numerator1","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":70190,"src":"2128:10:74","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"+","rightExpression":{"id":70214,"name":"product","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":70201,"src":"2141:7:74","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"2128:20:74","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"VariableDeclarationStatement","src":"2106:42:74"},{"condition":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":70219,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":70217,"name":"denominator","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":70212,"src":"2174:11:74","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":">=","rightExpression":{"id":70218,"name":"numerator1","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":70190,"src":"2189:10:74","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"2174:25:74","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":70231,"nodeType":"IfStatement","src":"2170:207:74","trueBody":{"id":70230,"nodeType":"Block","src":"2201:176:74","statements":[{"expression":{"arguments":[{"arguments":[{"id":70224,"name":"numerator1","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":70190,"src":"2319:10:74","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"id":70225,"name":"sqrtPX96","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":70172,"src":"2331:8:74","typeDescriptions":{"typeIdentifier":"t_uint160","typeString":"uint160"}},{"id":70226,"name":"denominator","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":70212,"src":"2341:11:74","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint160","typeString":"uint160"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"id":70222,"name":"FullMath","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":66635,"src":"2293:8:74","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_FullMath_$66635_$","typeString":"type(library FullMath)"}},"id":70223,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"2302:16:74","memberName":"mulDivRoundingUp","nodeType":"MemberAccess","referencedDeclaration":66634,"src":"2293:25:74","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint256_$_t_uint256_$_t_uint256_$returns$_t_uint256_$","typeString":"function (uint256,uint256,uint256) pure returns (uint256)"}},"id":70227,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"2293:60:74","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":70221,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"2285:7:74","typeDescriptions":{"typeIdentifier":"t_type$_t_uint160_$","typeString":"type(uint160)"},"typeName":{"id":70220,"name":"uint160","nodeType":"ElementaryTypeName","src":"2285:7:74","typeDescriptions":{}}},"id":70228,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"2285:69:74","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint160","typeString":"uint160"}},"functionReturnParameters":70182,"id":70229,"nodeType":"Return","src":"2278:76:74"}]}}]}}]},{"expression":{"arguments":[{"arguments":[{"id":70239,"name":"numerator1","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":70190,"src":"2513:10:74","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":70245,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"components":[{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":70242,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":70240,"name":"numerator1","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":70190,"src":"2526:10:74","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"/","rightExpression":{"id":70241,"name":"sqrtPX96","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":70172,"src":"2539:8:74","typeDescriptions":{"typeIdentifier":"t_uint160","typeString":"uint160"}},"src":"2526:21:74","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"id":70243,"isConstant":false,"isInlineArray":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"TupleExpression","src":"2525:23:74","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"+","rightExpression":{"id":70244,"name":"amount","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":70176,"src":"2551:6:74","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"2525:32:74","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"id":70237,"name":"UnsafeMath","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":72363,"src":"2488:10:74","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_UnsafeMath_$72363_$","typeString":"type(library UnsafeMath)"}},"id":70238,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"2499:13:74","memberName":"divRoundingUp","nodeType":"MemberAccess","referencedDeclaration":72348,"src":"2488:24:74","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint256_$_t_uint256_$returns$_t_uint256_$","typeString":"function (uint256,uint256) pure returns (uint256)"}},"id":70246,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"2488:70:74","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":70236,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"2480:7:74","typeDescriptions":{"typeIdentifier":"t_type$_t_uint160_$","typeString":"type(uint160)"},"typeName":{"id":70235,"name":"uint160","nodeType":"ElementaryTypeName","src":"2480:7:74","typeDescriptions":{}}},"id":70247,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"2480:79:74","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint160","typeString":"uint160"}},"functionReturnParameters":70182,"id":70248,"nodeType":"Return","src":"2473:86:74"}]}}]},"documentation":{"id":70170,"nodeType":"StructuredDocumentation","src":"586:944:74","text":"@notice Gets the next sqrt price given a delta of currency0\n @dev Always rounds up, because in the exact output case (increasing price) we need to move the price at least\n far enough to get the desired output amount, and in the exact input case (decreasing price) we need to move the\n price less in order to not send too much output.\n The most precise formula for this is liquidity * sqrtPX96 / (liquidity +- amount * sqrtPX96),\n if this is impossible because of overflow, we calculate liquidity / (liquidity / sqrtPX96 +- amount).\n @param sqrtPX96 The starting price, i.e. before accounting for the currency0 delta\n @param liquidity The amount of usable liquidity\n @param amount How much of currency0 to add or remove from virtual reserves\n @param add Whether to add or remove the amount of currency0\n @return The price after adding or removing amount, depending on add"},"implemented":true,"kind":"function","modifiers":[],"name":"getNextSqrtPriceFromAmount0RoundingUp","nameLocation":"1544:37:74","parameters":{"id":70179,"nodeType":"ParameterList","parameters":[{"constant":false,"id":70172,"mutability":"mutable","name":"sqrtPX96","nameLocation":"1590:8:74","nodeType":"VariableDeclaration","scope":70276,"src":"1582:16:74","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint160","typeString":"uint160"},"typeName":{"id":70171,"name":"uint160","nodeType":"ElementaryTypeName","src":"1582:7:74","typeDescriptions":{"typeIdentifier":"t_uint160","typeString":"uint160"}},"visibility":"internal"},{"constant":false,"id":70174,"mutability":"mutable","name":"liquidity","nameLocation":"1608:9:74","nodeType":"VariableDeclaration","scope":70276,"src":"1600:17:74","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint128","typeString":"uint128"},"typeName":{"id":70173,"name":"uint128","nodeType":"ElementaryTypeName","src":"1600:7:74","typeDescriptions":{"typeIdentifier":"t_uint128","typeString":"uint128"}},"visibility":"internal"},{"constant":false,"id":70176,"mutability":"mutable","name":"amount","nameLocation":"1627:6:74","nodeType":"VariableDeclaration","scope":70276,"src":"1619:14:74","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":70175,"name":"uint256","nodeType":"ElementaryTypeName","src":"1619:7:74","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":70178,"mutability":"mutable","name":"add","nameLocation":"1640:3:74","nodeType":"VariableDeclaration","scope":70276,"src":"1635:8:74","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"},"typeName":{"id":70177,"name":"bool","nodeType":"ElementaryTypeName","src":"1635:4:74","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"visibility":"internal"}],"src":"1581:63:74"},"returnParameters":{"id":70182,"nodeType":"ParameterList","parameters":[{"constant":false,"id":70181,"mutability":"mutable","name":"","nameLocation":"-1:-1:-1","nodeType":"VariableDeclaration","scope":70276,"src":"1692:7:74","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint160","typeString":"uint160"},"typeName":{"id":70180,"name":"uint160","nodeType":"ElementaryTypeName","src":"1692:7:74","typeDescriptions":{"typeIdentifier":"t_uint160","typeString":"uint160"}},"visibility":"internal"}],"src":"1691:9:74"},"scope":70638,"stateMutability":"pure","virtual":false,"visibility":"internal"},{"id":70367,"nodeType":"FunctionDefinition","src":"4438:1450:74","nodes":[],"body":{"id":70366,"nodeType":"Block","src":"4610:1278:74","nodes":[],"statements":[{"condition":{"id":70290,"name":"add","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":70285,"src":"4778:3:74","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"falseBody":{"id":70364,"nodeType":"Block","src":"5101:781:74","statements":[{"assignments":[70329],"declarations":[{"constant":false,"id":70329,"mutability":"mutable","name":"quotient","nameLocation":"5123:8:74","nodeType":"VariableDeclaration","scope":70364,"src":"5115:16:74","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":70328,"name":"uint256","nodeType":"ElementaryTypeName","src":"5115:7:74","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":70354,"initialValue":{"components":[{"condition":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":70336,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":70330,"name":"amount","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":70283,"src":"5152:6:74","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"<=","rightExpression":{"expression":{"arguments":[{"id":70333,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"5167:7:74","typeDescriptions":{"typeIdentifier":"t_type$_t_uint160_$","typeString":"type(uint160)"},"typeName":{"id":70332,"name":"uint160","nodeType":"ElementaryTypeName","src":"5167:7:74","typeDescriptions":{}}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_type$_t_uint160_$","typeString":"type(uint160)"}],"id":70331,"name":"type","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":-27,"src":"5162:4:74","typeDescriptions":{"typeIdentifier":"t_function_metatype_pure$__$returns$__$","typeString":"function () pure"}},"id":70334,"isConstant":false,"isLValue":false,"isPure":true,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"5162:13:74","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_magic_meta_type_t_uint160","typeString":"type(uint160)"}},"id":70335,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"memberLocation":"5176:3:74","memberName":"max","nodeType":"MemberAccess","src":"5162:17:74","typeDescriptions":{"typeIdentifier":"t_uint160","typeString":"uint160"}},"src":"5152:27:74","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"falseExpression":{"arguments":[{"id":70347,"name":"amount","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":70283,"src":"5321:6:74","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"expression":{"id":70348,"name":"FixedPoint96","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":66467,"src":"5329:12:74","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_FixedPoint96_$66467_$","typeString":"type(library FixedPoint96)"}},"id":70349,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"memberLocation":"5342:3:74","memberName":"Q96","nodeType":"MemberAccess","referencedDeclaration":66466,"src":"5329:16:74","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"id":70350,"name":"liquidity","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":70281,"src":"5347:9:74","typeDescriptions":{"typeIdentifier":"t_uint128","typeString":"uint128"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint128","typeString":"uint128"}],"expression":{"id":70345,"name":"FullMath","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":66635,"src":"5295:8:74","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_FullMath_$66635_$","typeString":"type(library FullMath)"}},"id":70346,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"5304:16:74","memberName":"mulDivRoundingUp","nodeType":"MemberAccess","referencedDeclaration":66634,"src":"5295:25:74","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint256_$_t_uint256_$_t_uint256_$returns$_t_uint256_$","typeString":"function (uint256,uint256,uint256) pure returns (uint256)"}},"id":70351,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"5295:62:74","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":70352,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"Conditional","src":"5152:205:74","trueExpression":{"arguments":[{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":70342,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":70339,"name":"amount","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":70283,"src":"5227:6:74","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"<<","rightExpression":{"expression":{"id":70340,"name":"FixedPoint96","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":66467,"src":"5237:12:74","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_FixedPoint96_$66467_$","typeString":"type(library FixedPoint96)"}},"id":70341,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"memberLocation":"5250:10:74","memberName":"RESOLUTION","nodeType":"MemberAccess","referencedDeclaration":66463,"src":"5237:23:74","typeDescriptions":{"typeIdentifier":"t_uint8","typeString":"uint8"}},"src":"5227:33:74","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"id":70343,"name":"liquidity","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":70281,"src":"5262:9:74","typeDescriptions":{"typeIdentifier":"t_uint128","typeString":"uint128"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint128","typeString":"uint128"}],"expression":{"id":70337,"name":"UnsafeMath","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":72363,"src":"5202:10:74","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_UnsafeMath_$72363_$","typeString":"type(library UnsafeMath)"}},"id":70338,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"5213:13:74","memberName":"divRoundingUp","nodeType":"MemberAccess","referencedDeclaration":72348,"src":"5202:24:74","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint256_$_t_uint256_$returns$_t_uint256_$","typeString":"function (uint256,uint256) pure returns (uint256)"}},"id":70344,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"5202:70:74","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"id":70353,"isConstant":false,"isInlineArray":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"TupleExpression","src":"5134:237:74","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"VariableDeclarationStatement","src":"5115:256:74"},{"AST":{"nativeSrc":"5493:252:74","nodeType":"YulBlock","src":"5493:252:74","statements":[{"body":{"nativeSrc":"5594:137:74","nodeType":"YulBlock","src":"5594:137:74","statements":[{"expression":{"arguments":[{"kind":"number","nativeSrc":"5623:1:74","nodeType":"YulLiteral","src":"5623:1:74","type":"","value":"0"},{"kind":"number","nativeSrc":"5626:10:74","nodeType":"YulLiteral","src":"5626:10:74","type":"","value":"0x4323a555"}],"functionName":{"name":"mstore","nativeSrc":"5616:6:74","nodeType":"YulIdentifier","src":"5616:6:74"},"nativeSrc":"5616:21:74","nodeType":"YulFunctionCall","src":"5616:21:74"},"nativeSrc":"5616:21:74","nodeType":"YulExpressionStatement","src":"5616:21:74"},{"expression":{"arguments":[{"kind":"number","nativeSrc":"5702:4:74","nodeType":"YulLiteral","src":"5702:4:74","type":"","value":"0x1c"},{"kind":"number","nativeSrc":"5708:4:74","nodeType":"YulLiteral","src":"5708:4:74","type":"","value":"0x04"}],"functionName":{"name":"revert","nativeSrc":"5695:6:74","nodeType":"YulIdentifier","src":"5695:6:74"},"nativeSrc":"5695:18:74","nodeType":"YulFunctionCall","src":"5695:18:74"},"nativeSrc":"5695:18:74","nodeType":"YulExpressionStatement","src":"5695:18:74"}]},"condition":{"arguments":[{"arguments":[{"arguments":[{"name":"sqrtPX96","nativeSrc":"5528:8:74","nodeType":"YulIdentifier","src":"5528:8:74"},{"kind":"number","nativeSrc":"5538:42:74","nodeType":"YulLiteral","src":"5538:42:74","type":"","value":"0xffffffffffffffffffffffffffffffffffffffff"}],"functionName":{"name":"and","nativeSrc":"5524:3:74","nodeType":"YulIdentifier","src":"5524:3:74"},"nativeSrc":"5524:57:74","nodeType":"YulFunctionCall","src":"5524:57:74"},{"name":"quotient","nativeSrc":"5583:8:74","nodeType":"YulIdentifier","src":"5583:8:74"}],"functionName":{"name":"gt","nativeSrc":"5521:2:74","nodeType":"YulIdentifier","src":"5521:2:74"},"nativeSrc":"5521:71:74","nodeType":"YulFunctionCall","src":"5521:71:74"}],"functionName":{"name":"iszero","nativeSrc":"5514:6:74","nodeType":"YulIdentifier","src":"5514:6:74"},"nativeSrc":"5514:79:74","nodeType":"YulFunctionCall","src":"5514:79:74"},"nativeSrc":"5511:220:74","nodeType":"YulIf","src":"5511:220:74"}]},"evmVersion":"cancun","externalReferences":[{"declaration":70329,"isOffset":false,"isSlot":false,"src":"5583:8:74","valueSize":1},{"declaration":70279,"isOffset":false,"isSlot":false,"src":"5528:8:74","valueSize":1}],"flags":["memory-safe"],"id":70355,"nodeType":"InlineAssembly","src":"5468:277:74"},{"id":70363,"nodeType":"UncheckedBlock","src":"5794:78:74","statements":[{"expression":{"arguments":[{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":70360,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":70358,"name":"sqrtPX96","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":70279,"src":"5837:8:74","typeDescriptions":{"typeIdentifier":"t_uint160","typeString":"uint160"}},"nodeType":"BinaryOperation","operator":"-","rightExpression":{"id":70359,"name":"quotient","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":70329,"src":"5848:8:74","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"5837:19:74","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":70357,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"5829:7:74","typeDescriptions":{"typeIdentifier":"t_type$_t_uint160_$","typeString":"type(uint160)"},"typeName":{"id":70356,"name":"uint160","nodeType":"ElementaryTypeName","src":"5829:7:74","typeDescriptions":{}}},"id":70361,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"5829:28:74","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint160","typeString":"uint160"}},"functionReturnParameters":70289,"id":70362,"nodeType":"Return","src":"5822:35:74"}]}]},"id":70365,"nodeType":"IfStatement","src":"4774:1108:74","trueBody":{"id":70327,"nodeType":"Block","src":"4783:312:74","statements":[{"assignments":[70292],"declarations":[{"constant":false,"id":70292,"mutability":"mutable","name":"quotient","nameLocation":"4805:8:74","nodeType":"VariableDeclaration","scope":70327,"src":"4797:16:74","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":70291,"name":"uint256","nodeType":"ElementaryTypeName","src":"4797:7:74","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":70316,"initialValue":{"components":[{"condition":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":70299,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":70293,"name":"amount","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":70283,"src":"4834:6:74","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"<=","rightExpression":{"expression":{"arguments":[{"id":70296,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"4849:7:74","typeDescriptions":{"typeIdentifier":"t_type$_t_uint160_$","typeString":"type(uint160)"},"typeName":{"id":70295,"name":"uint160","nodeType":"ElementaryTypeName","src":"4849:7:74","typeDescriptions":{}}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_type$_t_uint160_$","typeString":"type(uint160)"}],"id":70294,"name":"type","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":-27,"src":"4844:4:74","typeDescriptions":{"typeIdentifier":"t_function_metatype_pure$__$returns$__$","typeString":"function () pure"}},"id":70297,"isConstant":false,"isLValue":false,"isPure":true,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"4844:13:74","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_magic_meta_type_t_uint160","typeString":"type(uint160)"}},"id":70298,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"memberLocation":"4858:3:74","memberName":"max","nodeType":"MemberAccess","src":"4844:17:74","typeDescriptions":{"typeIdentifier":"t_uint160","typeString":"uint160"}},"src":"4834:27:74","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"falseExpression":{"arguments":[{"id":70309,"name":"amount","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":70283,"src":"4970:6:74","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"expression":{"id":70310,"name":"FixedPoint96","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":66467,"src":"4978:12:74","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_FixedPoint96_$66467_$","typeString":"type(library FixedPoint96)"}},"id":70311,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"memberLocation":"4991:3:74","memberName":"Q96","nodeType":"MemberAccess","referencedDeclaration":66466,"src":"4978:16:74","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"id":70312,"name":"liquidity","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":70281,"src":"4996:9:74","typeDescriptions":{"typeIdentifier":"t_uint128","typeString":"uint128"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint128","typeString":"uint128"}],"expression":{"id":70307,"name":"FullMath","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":66635,"src":"4954:8:74","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_FullMath_$66635_$","typeString":"type(library FullMath)"}},"id":70308,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"4963:6:74","memberName":"mulDiv","nodeType":"MemberAccess","referencedDeclaration":66596,"src":"4954:15:74","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint256_$_t_uint256_$_t_uint256_$returns$_t_uint256_$","typeString":"function (uint256,uint256,uint256) pure returns (uint256)"}},"id":70313,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"4954:52:74","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":70314,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"Conditional","src":"4834:172:74","trueExpression":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":70306,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"components":[{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":70303,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":70300,"name":"amount","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":70283,"src":"4885:6:74","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"<<","rightExpression":{"expression":{"id":70301,"name":"FixedPoint96","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":66467,"src":"4895:12:74","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_FixedPoint96_$66467_$","typeString":"type(library FixedPoint96)"}},"id":70302,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"memberLocation":"4908:10:74","memberName":"RESOLUTION","nodeType":"MemberAccess","referencedDeclaration":66463,"src":"4895:23:74","typeDescriptions":{"typeIdentifier":"t_uint8","typeString":"uint8"}},"src":"4885:33:74","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"id":70304,"isConstant":false,"isInlineArray":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"TupleExpression","src":"4884:35:74","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"/","rightExpression":{"id":70305,"name":"liquidity","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":70281,"src":"4922:9:74","typeDescriptions":{"typeIdentifier":"t_uint128","typeString":"uint128"}},"src":"4884:47:74","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"id":70315,"isConstant":false,"isInlineArray":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"TupleExpression","src":"4816:204:74","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"VariableDeclarationStatement","src":"4797:223:74"},{"expression":{"arguments":[],"expression":{"argumentTypes":[],"expression":{"components":[{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":70322,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"arguments":[{"id":70319,"name":"sqrtPX96","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":70279,"src":"5051:8:74","typeDescriptions":{"typeIdentifier":"t_uint160","typeString":"uint160"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint160","typeString":"uint160"}],"id":70318,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"5043:7:74","typeDescriptions":{"typeIdentifier":"t_type$_t_uint256_$","typeString":"type(uint256)"},"typeName":{"id":70317,"name":"uint256","nodeType":"ElementaryTypeName","src":"5043:7:74","typeDescriptions":{}}},"id":70320,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"5043:17:74","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"+","rightExpression":{"id":70321,"name":"quotient","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":70292,"src":"5063:8:74","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"5043:28:74","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"id":70323,"isConstant":false,"isInlineArray":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"TupleExpression","src":"5042:30:74","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":70324,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"5073:9:74","memberName":"toUint160","nodeType":"MemberAccess","referencedDeclaration":70008,"src":"5042:40:74","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint256_$returns$_t_uint160_$attached_to$_t_uint256_$","typeString":"function (uint256) pure returns (uint160)"}},"id":70325,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"5042:42:74","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint160","typeString":"uint160"}},"functionReturnParameters":70289,"id":70326,"nodeType":"Return","src":"5035:49:74"}]}}]},"documentation":{"id":70277,"nodeType":"StructuredDocumentation","src":"3606:827:74","text":"@notice Gets the next sqrt price given a delta of currency1\n @dev Always rounds down, because in the exact output case (decreasing price) we need to move the price at least\n far enough to get the desired output amount, and in the exact input case (increasing price) we need to move the\n price less in order to not send too much output.\n The formula we compute is within <1 wei of the lossless version: sqrtPX96 +- amount / liquidity\n @param sqrtPX96 The starting price, i.e., before accounting for the currency1 delta\n @param liquidity The amount of usable liquidity\n @param amount How much of currency1 to add, or remove, from virtual reserves\n @param add Whether to add, or remove, the amount of currency1\n @return The price after adding or removing `amount`"},"implemented":true,"kind":"function","modifiers":[],"name":"getNextSqrtPriceFromAmount1RoundingDown","nameLocation":"4447:39:74","parameters":{"id":70286,"nodeType":"ParameterList","parameters":[{"constant":false,"id":70279,"mutability":"mutable","name":"sqrtPX96","nameLocation":"4495:8:74","nodeType":"VariableDeclaration","scope":70367,"src":"4487:16:74","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint160","typeString":"uint160"},"typeName":{"id":70278,"name":"uint160","nodeType":"ElementaryTypeName","src":"4487:7:74","typeDescriptions":{"typeIdentifier":"t_uint160","typeString":"uint160"}},"visibility":"internal"},{"constant":false,"id":70281,"mutability":"mutable","name":"liquidity","nameLocation":"4513:9:74","nodeType":"VariableDeclaration","scope":70367,"src":"4505:17:74","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint128","typeString":"uint128"},"typeName":{"id":70280,"name":"uint128","nodeType":"ElementaryTypeName","src":"4505:7:74","typeDescriptions":{"typeIdentifier":"t_uint128","typeString":"uint128"}},"visibility":"internal"},{"constant":false,"id":70283,"mutability":"mutable","name":"amount","nameLocation":"4532:6:74","nodeType":"VariableDeclaration","scope":70367,"src":"4524:14:74","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":70282,"name":"uint256","nodeType":"ElementaryTypeName","src":"4524:7:74","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":70285,"mutability":"mutable","name":"add","nameLocation":"4545:3:74","nodeType":"VariableDeclaration","scope":70367,"src":"4540:8:74","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"},"typeName":{"id":70284,"name":"bool","nodeType":"ElementaryTypeName","src":"4540:4:74","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"visibility":"internal"}],"src":"4486:63:74"},"returnParameters":{"id":70289,"nodeType":"ParameterList","parameters":[{"constant":false,"id":70288,"mutability":"mutable","name":"","nameLocation":"-1:-1:-1","nodeType":"VariableDeclaration","scope":70367,"src":"4597:7:74","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint160","typeString":"uint160"},"typeName":{"id":70287,"name":"uint160","nodeType":"ElementaryTypeName","src":"4597:7:74","typeDescriptions":{"typeIdentifier":"t_uint160","typeString":"uint160"}},"visibility":"internal"}],"src":"4596:9:74"},"scope":70638,"stateMutability":"pure","virtual":false,"visibility":"internal"},{"id":70398,"nodeType":"FunctionDefinition","src":"6460:909:74","nodes":[],"body":{"id":70397,"nodeType":"Block","src":"6627:742:74","nodes":[],"statements":[{"AST":{"nativeSrc":"6756:333:74","nodeType":"YulBlock","src":"6756:333:74","statements":[{"body":{"nativeSrc":"6949:130:74","nodeType":"YulBlock","src":"6949:130:74","statements":[{"expression":{"arguments":[{"kind":"number","nativeSrc":"6974:1:74","nodeType":"YulLiteral","src":"6974:1:74","type":"","value":"0"},{"kind":"number","nativeSrc":"6977:10:74","nodeType":"YulLiteral","src":"6977:10:74","type":"","value":"0x4f2461b8"}],"functionName":{"name":"mstore","nativeSrc":"6967:6:74","nodeType":"YulIdentifier","src":"6967:6:74"},"nativeSrc":"6967:21:74","nodeType":"YulFunctionCall","src":"6967:21:74"},"nativeSrc":"6967:21:74","nodeType":"YulExpressionStatement","src":"6967:21:74"},{"expression":{"arguments":[{"kind":"number","nativeSrc":"7054:4:74","nodeType":"YulLiteral","src":"7054:4:74","type":"","value":"0x1c"},{"kind":"number","nativeSrc":"7060:4:74","nodeType":"YulLiteral","src":"7060:4:74","type":"","value":"0x04"}],"functionName":{"name":"revert","nativeSrc":"7047:6:74","nodeType":"YulIdentifier","src":"7047:6:74"},"nativeSrc":"7047:18:74","nodeType":"YulFunctionCall","src":"7047:18:74"},"nativeSrc":"7047:18:74","nodeType":"YulExpressionStatement","src":"7047:18:74"}]},"condition":{"arguments":[{"arguments":[{"arguments":[{"name":"sqrtPX96","nativeSrc":"6804:8:74","nodeType":"YulIdentifier","src":"6804:8:74"},{"kind":"number","nativeSrc":"6814:42:74","nodeType":"YulLiteral","src":"6814:42:74","type":"","value":"0xffffffffffffffffffffffffffffffffffffffff"}],"functionName":{"name":"and","nativeSrc":"6800:3:74","nodeType":"YulIdentifier","src":"6800:3:74"},"nativeSrc":"6800:57:74","nodeType":"YulFunctionCall","src":"6800:57:74"}],"functionName":{"name":"iszero","nativeSrc":"6793:6:74","nodeType":"YulIdentifier","src":"6793:6:74"},"nativeSrc":"6793:65:74","nodeType":"YulFunctionCall","src":"6793:65:74"},{"arguments":[{"arguments":[{"name":"liquidity","nativeSrc":"6887:9:74","nodeType":"YulIdentifier","src":"6887:9:74"},{"kind":"number","nativeSrc":"6898:34:74","nodeType":"YulLiteral","src":"6898:34:74","type":"","value":"0xffffffffffffffffffffffffffffffff"}],"functionName":{"name":"and","nativeSrc":"6883:3:74","nodeType":"YulIdentifier","src":"6883:3:74"},"nativeSrc":"6883:50:74","nodeType":"YulFunctionCall","src":"6883:50:74"}],"functionName":{"name":"iszero","nativeSrc":"6876:6:74","nodeType":"YulIdentifier","src":"6876:6:74"},"nativeSrc":"6876:58:74","nodeType":"YulFunctionCall","src":"6876:58:74"}],"functionName":{"name":"or","nativeSrc":"6773:2:74","nodeType":"YulIdentifier","src":"6773:2:74"},"nativeSrc":"6773:175:74","nodeType":"YulFunctionCall","src":"6773:175:74"},"nativeSrc":"6770:309:74","nodeType":"YulIf","src":"6770:309:74"}]},"evmVersion":"cancun","externalReferences":[{"declaration":70372,"isOffset":false,"isSlot":false,"src":"6887:9:74","valueSize":1},{"declaration":70370,"isOffset":false,"isSlot":false,"src":"6804:8:74","valueSize":1}],"flags":["memory-safe"],"id":70381,"nodeType":"InlineAssembly","src":"6731:358:74"},{"expression":{"condition":{"id":70382,"name":"zeroForOne","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":70376,"src":"7172:10:74","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"falseExpression":{"arguments":[{"id":70390,"name":"sqrtPX96","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":70370,"src":"7326:8:74","typeDescriptions":{"typeIdentifier":"t_uint160","typeString":"uint160"}},{"id":70391,"name":"liquidity","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":70372,"src":"7336:9:74","typeDescriptions":{"typeIdentifier":"t_uint128","typeString":"uint128"}},{"id":70392,"name":"amountIn","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":70374,"src":"7347:8:74","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"hexValue":"74727565","id":70393,"isConstant":false,"isLValue":false,"isPure":true,"kind":"bool","lValueRequested":false,"nodeType":"Literal","src":"7357:4:74","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"},"value":"true"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint160","typeString":"uint160"},{"typeIdentifier":"t_uint128","typeString":"uint128"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_bool","typeString":"bool"}],"id":70389,"name":"getNextSqrtPriceFromAmount1RoundingDown","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":70367,"src":"7286:39:74","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint160_$_t_uint128_$_t_uint256_$_t_bool_$returns$_t_uint160_$","typeString":"function (uint160,uint128,uint256,bool) pure returns (uint160)"}},"id":70394,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"7286:76:74","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint160","typeString":"uint160"}},"id":70395,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"Conditional","src":"7172:190:74","trueExpression":{"arguments":[{"id":70384,"name":"sqrtPX96","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":70370,"src":"7235:8:74","typeDescriptions":{"typeIdentifier":"t_uint160","typeString":"uint160"}},{"id":70385,"name":"liquidity","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":70372,"src":"7245:9:74","typeDescriptions":{"typeIdentifier":"t_uint128","typeString":"uint128"}},{"id":70386,"name":"amountIn","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":70374,"src":"7256:8:74","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"hexValue":"74727565","id":70387,"isConstant":false,"isLValue":false,"isPure":true,"kind":"bool","lValueRequested":false,"nodeType":"Literal","src":"7266:4:74","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"},"value":"true"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint160","typeString":"uint160"},{"typeIdentifier":"t_uint128","typeString":"uint128"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_bool","typeString":"bool"}],"id":70383,"name":"getNextSqrtPriceFromAmount0RoundingUp","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":70276,"src":"7197:37:74","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint160_$_t_uint128_$_t_uint256_$_t_bool_$returns$_t_uint160_$","typeString":"function (uint160,uint128,uint256,bool) pure returns (uint160)"}},"id":70388,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"7197:74:74","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint160","typeString":"uint160"}},"typeDescriptions":{"typeIdentifier":"t_uint160","typeString":"uint160"}},"functionReturnParameters":70380,"id":70396,"nodeType":"Return","src":"7165:197:74"}]},"documentation":{"id":70368,"nodeType":"StructuredDocumentation","src":"5894:561:74","text":"@notice Gets the next sqrt price given an input amount of currency0 or currency1\n @dev Throws if price or liquidity are 0, or if the next price is out of bounds\n @param sqrtPX96 The starting price, i.e., before accounting for the input amount\n @param liquidity The amount of usable liquidity\n @param amountIn How much of currency0, or currency1, is being swapped in\n @param zeroForOne Whether the amount in is currency0 or currency1\n @return uint160 The price after adding the input amount to currency0 or currency1"},"implemented":true,"kind":"function","modifiers":[],"name":"getNextSqrtPriceFromInput","nameLocation":"6469:25:74","parameters":{"id":70377,"nodeType":"ParameterList","parameters":[{"constant":false,"id":70370,"mutability":"mutable","name":"sqrtPX96","nameLocation":"6503:8:74","nodeType":"VariableDeclaration","scope":70398,"src":"6495:16:74","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint160","typeString":"uint160"},"typeName":{"id":70369,"name":"uint160","nodeType":"ElementaryTypeName","src":"6495:7:74","typeDescriptions":{"typeIdentifier":"t_uint160","typeString":"uint160"}},"visibility":"internal"},{"constant":false,"id":70372,"mutability":"mutable","name":"liquidity","nameLocation":"6521:9:74","nodeType":"VariableDeclaration","scope":70398,"src":"6513:17:74","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint128","typeString":"uint128"},"typeName":{"id":70371,"name":"uint128","nodeType":"ElementaryTypeName","src":"6513:7:74","typeDescriptions":{"typeIdentifier":"t_uint128","typeString":"uint128"}},"visibility":"internal"},{"constant":false,"id":70374,"mutability":"mutable","name":"amountIn","nameLocation":"6540:8:74","nodeType":"VariableDeclaration","scope":70398,"src":"6532:16:74","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":70373,"name":"uint256","nodeType":"ElementaryTypeName","src":"6532:7:74","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":70376,"mutability":"mutable","name":"zeroForOne","nameLocation":"6555:10:74","nodeType":"VariableDeclaration","scope":70398,"src":"6550:15:74","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"},"typeName":{"id":70375,"name":"bool","nodeType":"ElementaryTypeName","src":"6550:4:74","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"visibility":"internal"}],"src":"6494:72:74"},"returnParameters":{"id":70380,"nodeType":"ParameterList","parameters":[{"constant":false,"id":70379,"mutability":"mutable","name":"","nameLocation":"-1:-1:-1","nodeType":"VariableDeclaration","scope":70398,"src":"6614:7:74","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint160","typeString":"uint160"},"typeName":{"id":70378,"name":"uint160","nodeType":"ElementaryTypeName","src":"6614:7:74","typeDescriptions":{"typeIdentifier":"t_uint160","typeString":"uint160"}},"visibility":"internal"}],"src":"6613:9:74"},"scope":70638,"stateMutability":"pure","virtual":false,"visibility":"internal"},{"id":70429,"nodeType":"FunctionDefinition","src":"7938:909:74","nodes":[],"body":{"id":70428,"nodeType":"Block","src":"8107:740:74","nodes":[],"statements":[{"AST":{"nativeSrc":"8236:333:74","nodeType":"YulBlock","src":"8236:333:74","statements":[{"body":{"nativeSrc":"8429:130:74","nodeType":"YulBlock","src":"8429:130:74","statements":[{"expression":{"arguments":[{"kind":"number","nativeSrc":"8454:1:74","nodeType":"YulLiteral","src":"8454:1:74","type":"","value":"0"},{"kind":"number","nativeSrc":"8457:10:74","nodeType":"YulLiteral","src":"8457:10:74","type":"","value":"0x4f2461b8"}],"functionName":{"name":"mstore","nativeSrc":"8447:6:74","nodeType":"YulIdentifier","src":"8447:6:74"},"nativeSrc":"8447:21:74","nodeType":"YulFunctionCall","src":"8447:21:74"},"nativeSrc":"8447:21:74","nodeType":"YulExpressionStatement","src":"8447:21:74"},{"expression":{"arguments":[{"kind":"number","nativeSrc":"8534:4:74","nodeType":"YulLiteral","src":"8534:4:74","type":"","value":"0x1c"},{"kind":"number","nativeSrc":"8540:4:74","nodeType":"YulLiteral","src":"8540:4:74","type":"","value":"0x04"}],"functionName":{"name":"revert","nativeSrc":"8527:6:74","nodeType":"YulIdentifier","src":"8527:6:74"},"nativeSrc":"8527:18:74","nodeType":"YulFunctionCall","src":"8527:18:74"},"nativeSrc":"8527:18:74","nodeType":"YulExpressionStatement","src":"8527:18:74"}]},"condition":{"arguments":[{"arguments":[{"arguments":[{"name":"sqrtPX96","nativeSrc":"8284:8:74","nodeType":"YulIdentifier","src":"8284:8:74"},{"kind":"number","nativeSrc":"8294:42:74","nodeType":"YulLiteral","src":"8294:42:74","type":"","value":"0xffffffffffffffffffffffffffffffffffffffff"}],"functionName":{"name":"and","nativeSrc":"8280:3:74","nodeType":"YulIdentifier","src":"8280:3:74"},"nativeSrc":"8280:57:74","nodeType":"YulFunctionCall","src":"8280:57:74"}],"functionName":{"name":"iszero","nativeSrc":"8273:6:74","nodeType":"YulIdentifier","src":"8273:6:74"},"nativeSrc":"8273:65:74","nodeType":"YulFunctionCall","src":"8273:65:74"},{"arguments":[{"arguments":[{"name":"liquidity","nativeSrc":"8367:9:74","nodeType":"YulIdentifier","src":"8367:9:74"},{"kind":"number","nativeSrc":"8378:34:74","nodeType":"YulLiteral","src":"8378:34:74","type":"","value":"0xffffffffffffffffffffffffffffffff"}],"functionName":{"name":"and","nativeSrc":"8363:3:74","nodeType":"YulIdentifier","src":"8363:3:74"},"nativeSrc":"8363:50:74","nodeType":"YulFunctionCall","src":"8363:50:74"}],"functionName":{"name":"iszero","nativeSrc":"8356:6:74","nodeType":"YulIdentifier","src":"8356:6:74"},"nativeSrc":"8356:58:74","nodeType":"YulFunctionCall","src":"8356:58:74"}],"functionName":{"name":"or","nativeSrc":"8253:2:74","nodeType":"YulIdentifier","src":"8253:2:74"},"nativeSrc":"8253:175:74","nodeType":"YulFunctionCall","src":"8253:175:74"},"nativeSrc":"8250:309:74","nodeType":"YulIf","src":"8250:309:74"}]},"evmVersion":"cancun","externalReferences":[{"declaration":70403,"isOffset":false,"isSlot":false,"src":"8367:9:74","valueSize":1},{"declaration":70401,"isOffset":false,"isSlot":false,"src":"8284:8:74","valueSize":1}],"flags":["memory-safe"],"id":70412,"nodeType":"InlineAssembly","src":"8211:358:74"},{"expression":{"condition":{"id":70413,"name":"zeroForOne","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":70407,"src":"8646:10:74","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"falseExpression":{"arguments":[{"id":70421,"name":"sqrtPX96","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":70401,"src":"8802:8:74","typeDescriptions":{"typeIdentifier":"t_uint160","typeString":"uint160"}},{"id":70422,"name":"liquidity","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":70403,"src":"8812:9:74","typeDescriptions":{"typeIdentifier":"t_uint128","typeString":"uint128"}},{"id":70423,"name":"amountOut","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":70405,"src":"8823:9:74","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"hexValue":"66616c7365","id":70424,"isConstant":false,"isLValue":false,"isPure":true,"kind":"bool","lValueRequested":false,"nodeType":"Literal","src":"8834:5:74","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"},"value":"false"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint160","typeString":"uint160"},{"typeIdentifier":"t_uint128","typeString":"uint128"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_bool","typeString":"bool"}],"id":70420,"name":"getNextSqrtPriceFromAmount0RoundingUp","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":70276,"src":"8764:37:74","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint160_$_t_uint128_$_t_uint256_$_t_bool_$returns$_t_uint160_$","typeString":"function (uint160,uint128,uint256,bool) pure returns (uint160)"}},"id":70425,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"8764:76:74","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint160","typeString":"uint160"}},"id":70426,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"Conditional","src":"8646:194:74","trueExpression":{"arguments":[{"id":70415,"name":"sqrtPX96","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":70401,"src":"8711:8:74","typeDescriptions":{"typeIdentifier":"t_uint160","typeString":"uint160"}},{"id":70416,"name":"liquidity","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":70403,"src":"8721:9:74","typeDescriptions":{"typeIdentifier":"t_uint128","typeString":"uint128"}},{"id":70417,"name":"amountOut","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":70405,"src":"8732:9:74","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"hexValue":"66616c7365","id":70418,"isConstant":false,"isLValue":false,"isPure":true,"kind":"bool","lValueRequested":false,"nodeType":"Literal","src":"8743:5:74","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"},"value":"false"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint160","typeString":"uint160"},{"typeIdentifier":"t_uint128","typeString":"uint128"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_bool","typeString":"bool"}],"id":70414,"name":"getNextSqrtPriceFromAmount1RoundingDown","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":70367,"src":"8671:39:74","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint160_$_t_uint128_$_t_uint256_$_t_bool_$returns$_t_uint160_$","typeString":"function (uint160,uint128,uint256,bool) pure returns (uint160)"}},"id":70419,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"8671:78:74","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint160","typeString":"uint160"}},"typeDescriptions":{"typeIdentifier":"t_uint160","typeString":"uint160"}},"functionReturnParameters":70411,"id":70427,"nodeType":"Return","src":"8639:201:74"}]},"documentation":{"id":70399,"nodeType":"StructuredDocumentation","src":"7375:558:74","text":"@notice Gets the next sqrt price given an output amount of currency0 or currency1\n @dev Throws if price or liquidity are 0 or the next price is out of bounds\n @param sqrtPX96 The starting price before accounting for the output amount\n @param liquidity The amount of usable liquidity\n @param amountOut How much of currency0, or currency1, is being swapped out\n @param zeroForOne Whether the amount out is currency1 or currency0\n @return uint160 The price after removing the output amount of currency0 or currency1"},"implemented":true,"kind":"function","modifiers":[],"name":"getNextSqrtPriceFromOutput","nameLocation":"7947:26:74","parameters":{"id":70408,"nodeType":"ParameterList","parameters":[{"constant":false,"id":70401,"mutability":"mutable","name":"sqrtPX96","nameLocation":"7982:8:74","nodeType":"VariableDeclaration","scope":70429,"src":"7974:16:74","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint160","typeString":"uint160"},"typeName":{"id":70400,"name":"uint160","nodeType":"ElementaryTypeName","src":"7974:7:74","typeDescriptions":{"typeIdentifier":"t_uint160","typeString":"uint160"}},"visibility":"internal"},{"constant":false,"id":70403,"mutability":"mutable","name":"liquidity","nameLocation":"8000:9:74","nodeType":"VariableDeclaration","scope":70429,"src":"7992:17:74","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint128","typeString":"uint128"},"typeName":{"id":70402,"name":"uint128","nodeType":"ElementaryTypeName","src":"7992:7:74","typeDescriptions":{"typeIdentifier":"t_uint128","typeString":"uint128"}},"visibility":"internal"},{"constant":false,"id":70405,"mutability":"mutable","name":"amountOut","nameLocation":"8019:9:74","nodeType":"VariableDeclaration","scope":70429,"src":"8011:17:74","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":70404,"name":"uint256","nodeType":"ElementaryTypeName","src":"8011:7:74","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":70407,"mutability":"mutable","name":"zeroForOne","nameLocation":"8035:10:74","nodeType":"VariableDeclaration","scope":70429,"src":"8030:15:74","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"},"typeName":{"id":70406,"name":"bool","nodeType":"ElementaryTypeName","src":"8030:4:74","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"visibility":"internal"}],"src":"7973:73:74"},"returnParameters":{"id":70411,"nodeType":"ParameterList","parameters":[{"constant":false,"id":70410,"mutability":"mutable","name":"","nameLocation":"-1:-1:-1","nodeType":"VariableDeclaration","scope":70429,"src":"8094:7:74","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint160","typeString":"uint160"},"typeName":{"id":70409,"name":"uint160","nodeType":"ElementaryTypeName","src":"8094:7:74","typeDescriptions":{"typeIdentifier":"t_uint160","typeString":"uint160"}},"visibility":"internal"}],"src":"8093:9:74"},"scope":70638,"stateMutability":"pure","virtual":false,"visibility":"internal"},{"id":70495,"nodeType":"FunctionDefinition","src":"9398:1050:74","nodes":[],"body":{"id":70494,"nodeType":"Block","src":"9562:886:74","nodes":[],"statements":[{"id":70493,"nodeType":"UncheckedBlock","src":"9572:870:74","statements":[{"condition":{"commonType":{"typeIdentifier":"t_uint160","typeString":"uint160"},"id":70445,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":70443,"name":"sqrtPriceAX96","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":70432,"src":"9600:13:74","typeDescriptions":{"typeIdentifier":"t_uint160","typeString":"uint160"}},"nodeType":"BinaryOperation","operator":">","rightExpression":{"id":70444,"name":"sqrtPriceBX96","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":70434,"src":"9616:13:74","typeDescriptions":{"typeIdentifier":"t_uint160","typeString":"uint160"}},"src":"9600:29:74","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":70454,"nodeType":"IfStatement","src":"9596:98:74","trueBody":{"expression":{"id":70452,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"components":[{"id":70446,"name":"sqrtPriceAX96","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":70432,"src":"9632:13:74","typeDescriptions":{"typeIdentifier":"t_uint160","typeString":"uint160"}},{"id":70447,"name":"sqrtPriceBX96","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":70434,"src":"9647:13:74","typeDescriptions":{"typeIdentifier":"t_uint160","typeString":"uint160"}}],"id":70448,"isConstant":false,"isInlineArray":false,"isLValue":true,"isPure":false,"lValueRequested":true,"nodeType":"TupleExpression","src":"9631:30:74","typeDescriptions":{"typeIdentifier":"t_tuple$_t_uint160_$_t_uint160_$","typeString":"tuple(uint160,uint160)"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"components":[{"id":70449,"name":"sqrtPriceBX96","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":70434,"src":"9665:13:74","typeDescriptions":{"typeIdentifier":"t_uint160","typeString":"uint160"}},{"id":70450,"name":"sqrtPriceAX96","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":70432,"src":"9680:13:74","typeDescriptions":{"typeIdentifier":"t_uint160","typeString":"uint160"}}],"id":70451,"isConstant":false,"isInlineArray":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"TupleExpression","src":"9664:30:74","typeDescriptions":{"typeIdentifier":"t_tuple$_t_uint160_$_t_uint160_$","typeString":"tuple(uint160,uint160)"}},"src":"9631:63:74","typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":70453,"nodeType":"ExpressionStatement","src":"9631:63:74"}},{"AST":{"nativeSrc":"9808:237:74","nodeType":"YulBlock","src":"9808:237:74","statements":[{"body":{"nativeSrc":"9900:131:74","nodeType":"YulBlock","src":"9900:131:74","statements":[{"expression":{"arguments":[{"kind":"number","nativeSrc":"9929:1:74","nodeType":"YulLiteral","src":"9929:1:74","type":"","value":"0"},{"kind":"number","nativeSrc":"9932:10:74","nodeType":"YulLiteral","src":"9932:10:74","type":"","value":"0x00bfc921"}],"functionName":{"name":"mstore","nativeSrc":"9922:6:74","nodeType":"YulIdentifier","src":"9922:6:74"},"nativeSrc":"9922:21:74","nodeType":"YulFunctionCall","src":"9922:21:74"},"nativeSrc":"9922:21:74","nodeType":"YulExpressionStatement","src":"9922:21:74"},{"expression":{"arguments":[{"kind":"number","nativeSrc":"10002:4:74","nodeType":"YulLiteral","src":"10002:4:74","type":"","value":"0x1c"},{"kind":"number","nativeSrc":"10008:4:74","nodeType":"YulLiteral","src":"10008:4:74","type":"","value":"0x04"}],"functionName":{"name":"revert","nativeSrc":"9995:6:74","nodeType":"YulIdentifier","src":"9995:6:74"},"nativeSrc":"9995:18:74","nodeType":"YulFunctionCall","src":"9995:18:74"},"nativeSrc":"9995:18:74","nodeType":"YulExpressionStatement","src":"9995:18:74"}]},"condition":{"arguments":[{"arguments":[{"name":"sqrtPriceAX96","nativeSrc":"9840:13:74","nodeType":"YulIdentifier","src":"9840:13:74"},{"kind":"number","nativeSrc":"9855:42:74","nodeType":"YulLiteral","src":"9855:42:74","type":"","value":"0xffffffffffffffffffffffffffffffffffffffff"}],"functionName":{"name":"and","nativeSrc":"9836:3:74","nodeType":"YulIdentifier","src":"9836:3:74"},"nativeSrc":"9836:62:74","nodeType":"YulFunctionCall","src":"9836:62:74"}],"functionName":{"name":"iszero","nativeSrc":"9829:6:74","nodeType":"YulIdentifier","src":"9829:6:74"},"nativeSrc":"9829:70:74","nodeType":"YulFunctionCall","src":"9829:70:74"},"nativeSrc":"9826:205:74","nodeType":"YulIf","src":"9826:205:74"}]},"evmVersion":"cancun","externalReferences":[{"declaration":70432,"isOffset":false,"isSlot":false,"src":"9840:13:74","valueSize":1}],"flags":["memory-safe"],"id":70455,"nodeType":"InlineAssembly","src":"9783:262:74"},{"assignments":[70457],"declarations":[{"constant":false,"id":70457,"mutability":"mutable","name":"numerator1","nameLocation":"10067:10:74","nodeType":"VariableDeclaration","scope":70493,"src":"10059:18:74","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":70456,"name":"uint256","nodeType":"ElementaryTypeName","src":"10059:7:74","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":70465,"initialValue":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":70464,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"arguments":[{"id":70460,"name":"liquidity","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":70436,"src":"10088:9:74","typeDescriptions":{"typeIdentifier":"t_uint128","typeString":"uint128"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint128","typeString":"uint128"}],"id":70459,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"10080:7:74","typeDescriptions":{"typeIdentifier":"t_type$_t_uint256_$","typeString":"type(uint256)"},"typeName":{"id":70458,"name":"uint256","nodeType":"ElementaryTypeName","src":"10080:7:74","typeDescriptions":{}}},"id":70461,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"10080:18:74","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"<<","rightExpression":{"expression":{"id":70462,"name":"FixedPoint96","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":66467,"src":"10102:12:74","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_FixedPoint96_$66467_$","typeString":"type(library FixedPoint96)"}},"id":70463,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"memberLocation":"10115:10:74","memberName":"RESOLUTION","nodeType":"MemberAccess","referencedDeclaration":66463,"src":"10102:23:74","typeDescriptions":{"typeIdentifier":"t_uint8","typeString":"uint8"}},"src":"10080:45:74","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"VariableDeclarationStatement","src":"10059:66:74"},{"assignments":[70467],"declarations":[{"constant":false,"id":70467,"mutability":"mutable","name":"numerator2","nameLocation":"10147:10:74","nodeType":"VariableDeclaration","scope":70493,"src":"10139:18:74","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":70466,"name":"uint256","nodeType":"ElementaryTypeName","src":"10139:7:74","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":70471,"initialValue":{"commonType":{"typeIdentifier":"t_uint160","typeString":"uint160"},"id":70470,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":70468,"name":"sqrtPriceBX96","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":70434,"src":"10160:13:74","typeDescriptions":{"typeIdentifier":"t_uint160","typeString":"uint160"}},"nodeType":"BinaryOperation","operator":"-","rightExpression":{"id":70469,"name":"sqrtPriceAX96","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":70432,"src":"10176:13:74","typeDescriptions":{"typeIdentifier":"t_uint160","typeString":"uint160"}},"src":"10160:29:74","typeDescriptions":{"typeIdentifier":"t_uint160","typeString":"uint160"}},"nodeType":"VariableDeclarationStatement","src":"10139:50:74"},{"expression":{"condition":{"id":70472,"name":"roundUp","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":70438,"src":"10211:7:74","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"falseExpression":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":70490,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"arguments":[{"id":70485,"name":"numerator1","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":70457,"src":"10377:10:74","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"id":70486,"name":"numerator2","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":70467,"src":"10389:10:74","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"id":70487,"name":"sqrtPriceBX96","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":70434,"src":"10401:13:74","typeDescriptions":{"typeIdentifier":"t_uint160","typeString":"uint160"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint160","typeString":"uint160"}],"expression":{"id":70483,"name":"FullMath","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":66635,"src":"10361:8:74","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_FullMath_$66635_$","typeString":"type(library FullMath)"}},"id":70484,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"10370:6:74","memberName":"mulDiv","nodeType":"MemberAccess","referencedDeclaration":66596,"src":"10361:15:74","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint256_$_t_uint256_$_t_uint256_$returns$_t_uint256_$","typeString":"function (uint256,uint256,uint256) pure returns (uint256)"}},"id":70488,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"10361:54:74","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"/","rightExpression":{"id":70489,"name":"sqrtPriceAX96","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":70432,"src":"10418:13:74","typeDescriptions":{"typeIdentifier":"t_uint160","typeString":"uint160"}},"src":"10361:70:74","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":70491,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"Conditional","src":"10211:220:74","trueExpression":{"arguments":[{"arguments":[{"id":70477,"name":"numerator1","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":70457,"src":"10288:10:74","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"id":70478,"name":"numerator2","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":70467,"src":"10300:10:74","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"id":70479,"name":"sqrtPriceBX96","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":70434,"src":"10312:13:74","typeDescriptions":{"typeIdentifier":"t_uint160","typeString":"uint160"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint160","typeString":"uint160"}],"expression":{"id":70475,"name":"FullMath","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":66635,"src":"10262:8:74","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_FullMath_$66635_$","typeString":"type(library FullMath)"}},"id":70476,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"10271:16:74","memberName":"mulDivRoundingUp","nodeType":"MemberAccess","referencedDeclaration":66634,"src":"10262:25:74","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint256_$_t_uint256_$_t_uint256_$returns$_t_uint256_$","typeString":"function (uint256,uint256,uint256) pure returns (uint256)"}},"id":70480,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"10262:64:74","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"id":70481,"name":"sqrtPriceAX96","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":70432,"src":"10328:13:74","typeDescriptions":{"typeIdentifier":"t_uint160","typeString":"uint160"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint160","typeString":"uint160"}],"expression":{"id":70473,"name":"UnsafeMath","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":72363,"src":"10237:10:74","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_UnsafeMath_$72363_$","typeString":"type(library UnsafeMath)"}},"id":70474,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"10248:13:74","memberName":"divRoundingUp","nodeType":"MemberAccess","referencedDeclaration":72348,"src":"10237:24:74","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint256_$_t_uint256_$returns$_t_uint256_$","typeString":"function (uint256,uint256) pure returns (uint256)"}},"id":70482,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"10237:105:74","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"functionReturnParameters":70442,"id":70492,"nodeType":"Return","src":"10204:227:74"}]}]},"documentation":{"id":70430,"nodeType":"StructuredDocumentation","src":"8853:540:74","text":"@notice Gets the amount0 delta between two prices\n @dev Calculates liquidity / sqrt(lower) - liquidity / sqrt(upper),\n i.e. liquidity * (sqrt(upper) - sqrt(lower)) / (sqrt(upper) * sqrt(lower))\n @param sqrtPriceAX96 A sqrt price\n @param sqrtPriceBX96 Another sqrt price\n @param liquidity The amount of usable liquidity\n @param roundUp Whether to round the amount up or down\n @return uint256 Amount of currency0 required to cover a position of size liquidity between the two passed prices"},"implemented":true,"kind":"function","modifiers":[],"name":"getAmount0Delta","nameLocation":"9407:15:74","parameters":{"id":70439,"nodeType":"ParameterList","parameters":[{"constant":false,"id":70432,"mutability":"mutable","name":"sqrtPriceAX96","nameLocation":"9431:13:74","nodeType":"VariableDeclaration","scope":70495,"src":"9423:21:74","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint160","typeString":"uint160"},"typeName":{"id":70431,"name":"uint160","nodeType":"ElementaryTypeName","src":"9423:7:74","typeDescriptions":{"typeIdentifier":"t_uint160","typeString":"uint160"}},"visibility":"internal"},{"constant":false,"id":70434,"mutability":"mutable","name":"sqrtPriceBX96","nameLocation":"9454:13:74","nodeType":"VariableDeclaration","scope":70495,"src":"9446:21:74","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint160","typeString":"uint160"},"typeName":{"id":70433,"name":"uint160","nodeType":"ElementaryTypeName","src":"9446:7:74","typeDescriptions":{"typeIdentifier":"t_uint160","typeString":"uint160"}},"visibility":"internal"},{"constant":false,"id":70436,"mutability":"mutable","name":"liquidity","nameLocation":"9477:9:74","nodeType":"VariableDeclaration","scope":70495,"src":"9469:17:74","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint128","typeString":"uint128"},"typeName":{"id":70435,"name":"uint128","nodeType":"ElementaryTypeName","src":"9469:7:74","typeDescriptions":{"typeIdentifier":"t_uint128","typeString":"uint128"}},"visibility":"internal"},{"constant":false,"id":70438,"mutability":"mutable","name":"roundUp","nameLocation":"9493:7:74","nodeType":"VariableDeclaration","scope":70495,"src":"9488:12:74","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"},"typeName":{"id":70437,"name":"bool","nodeType":"ElementaryTypeName","src":"9488:4:74","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"visibility":"internal"}],"src":"9422:79:74"},"returnParameters":{"id":70442,"nodeType":"ParameterList","parameters":[{"constant":false,"id":70441,"mutability":"mutable","name":"","nameLocation":"-1:-1:-1","nodeType":"VariableDeclaration","scope":70495,"src":"9549:7:74","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":70440,"name":"uint256","nodeType":"ElementaryTypeName","src":"9549:7:74","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"9548:9:74"},"scope":70638,"stateMutability":"pure","virtual":false,"visibility":"internal"},{"id":70507,"nodeType":"FunctionDefinition","src":"10510:621:74","nodes":[],"body":{"id":70506,"nodeType":"Block","src":"10585:546:74","nodes":[],"statements":[{"AST":{"nativeSrc":"10620:505:74","nodeType":"YulBlock","src":"10620:505:74","statements":[{"nativeSrc":"10634:135:74","nodeType":"YulVariableDeclaration","src":"10634:135:74","value":{"arguments":[{"arguments":[{"name":"a","nativeSrc":"10670:1:74","nodeType":"YulIdentifier","src":"10670:1:74"},{"kind":"number","nativeSrc":"10673:42:74","nodeType":"YulLiteral","src":"10673:42:74","type":"","value":"0xffffffffffffffffffffffffffffffffffffffff"}],"functionName":{"name":"and","nativeSrc":"10666:3:74","nodeType":"YulIdentifier","src":"10666:3:74"},"nativeSrc":"10666:50:74","nodeType":"YulFunctionCall","src":"10666:50:74"},{"arguments":[{"name":"b","nativeSrc":"10722:1:74","nodeType":"YulIdentifier","src":"10722:1:74"},{"kind":"number","nativeSrc":"10725:42:74","nodeType":"YulLiteral","src":"10725:42:74","type":"","value":"0xffffffffffffffffffffffffffffffffffffffff"}],"functionName":{"name":"and","nativeSrc":"10718:3:74","nodeType":"YulIdentifier","src":"10718:3:74"},"nativeSrc":"10718:50:74","nodeType":"YulFunctionCall","src":"10718:50:74"}],"functionName":{"name":"sub","nativeSrc":"10662:3:74","nodeType":"YulIdentifier","src":"10662:3:74"},"nativeSrc":"10662:107:74","nodeType":"YulFunctionCall","src":"10662:107:74"},"variables":[{"name":"diff","nativeSrc":"10638:4:74","nodeType":"YulTypedName","src":"10638:4:74","type":""}]},{"nativeSrc":"10833:26:74","nodeType":"YulVariableDeclaration","src":"10833:26:74","value":{"arguments":[{"kind":"number","nativeSrc":"10849:3:74","nodeType":"YulLiteral","src":"10849:3:74","type":"","value":"255"},{"name":"diff","nativeSrc":"10854:4:74","nodeType":"YulIdentifier","src":"10854:4:74"}],"functionName":{"name":"sar","nativeSrc":"10845:3:74","nodeType":"YulIdentifier","src":"10845:3:74"},"nativeSrc":"10845:14:74","nodeType":"YulFunctionCall","src":"10845:14:74"},"variables":[{"name":"mask","nativeSrc":"10837:4:74","nodeType":"YulTypedName","src":"10837:4:74","type":""}]},{"nativeSrc":"11082:33:74","nodeType":"YulAssignment","src":"11082:33:74","value":{"arguments":[{"name":"mask","nativeSrc":"11093:4:74","nodeType":"YulIdentifier","src":"11093:4:74"},{"arguments":[{"name":"mask","nativeSrc":"11103:4:74","nodeType":"YulIdentifier","src":"11103:4:74"},{"name":"diff","nativeSrc":"11109:4:74","nodeType":"YulIdentifier","src":"11109:4:74"}],"functionName":{"name":"add","nativeSrc":"11099:3:74","nodeType":"YulIdentifier","src":"11099:3:74"},"nativeSrc":"11099:15:74","nodeType":"YulFunctionCall","src":"11099:15:74"}],"functionName":{"name":"xor","nativeSrc":"11089:3:74","nodeType":"YulIdentifier","src":"11089:3:74"},"nativeSrc":"11089:26:74","nodeType":"YulFunctionCall","src":"11089:26:74"},"variableNames":[{"name":"res","nativeSrc":"11082:3:74","nodeType":"YulIdentifier","src":"11082:3:74"}]}]},"evmVersion":"cancun","externalReferences":[{"declaration":70498,"isOffset":false,"isSlot":false,"src":"10670:1:74","valueSize":1},{"declaration":70500,"isOffset":false,"isSlot":false,"src":"10722:1:74","valueSize":1},{"declaration":70503,"isOffset":false,"isSlot":false,"src":"11082:3:74","valueSize":1}],"flags":["memory-safe"],"id":70505,"nodeType":"InlineAssembly","src":"10595:530:74"}]},"documentation":{"id":70496,"nodeType":"StructuredDocumentation","src":"10454:51:74","text":"@notice Equivalent to: `a >= b ? a - b : b - a`"},"implemented":true,"kind":"function","modifiers":[],"name":"absDiff","nameLocation":"10519:7:74","parameters":{"id":70501,"nodeType":"ParameterList","parameters":[{"constant":false,"id":70498,"mutability":"mutable","name":"a","nameLocation":"10535:1:74","nodeType":"VariableDeclaration","scope":70507,"src":"10527:9:74","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint160","typeString":"uint160"},"typeName":{"id":70497,"name":"uint160","nodeType":"ElementaryTypeName","src":"10527:7:74","typeDescriptions":{"typeIdentifier":"t_uint160","typeString":"uint160"}},"visibility":"internal"},{"constant":false,"id":70500,"mutability":"mutable","name":"b","nameLocation":"10546:1:74","nodeType":"VariableDeclaration","scope":70507,"src":"10538:9:74","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint160","typeString":"uint160"},"typeName":{"id":70499,"name":"uint160","nodeType":"ElementaryTypeName","src":"10538:7:74","typeDescriptions":{"typeIdentifier":"t_uint160","typeString":"uint160"}},"visibility":"internal"}],"src":"10526:22:74"},"returnParameters":{"id":70504,"nodeType":"ParameterList","parameters":[{"constant":false,"id":70503,"mutability":"mutable","name":"res","nameLocation":"10580:3:74","nodeType":"VariableDeclaration","scope":70507,"src":"10572:11:74","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":70502,"name":"uint256","nodeType":"ElementaryTypeName","src":"10572:7:74","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"10571:13:74"},"scope":70638,"stateMutability":"pure","virtual":false,"visibility":"internal"},{"id":70551,"nodeType":"FunctionDefinition","src":"11589:938:74","nodes":[],"body":{"id":70550,"nodeType":"Block","src":"11761:766:74","nodes":[],"statements":[{"assignments":[70522],"declarations":[{"constant":false,"id":70522,"mutability":"mutable","name":"numerator","nameLocation":"11779:9:74","nodeType":"VariableDeclaration","scope":70550,"src":"11771:17:74","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":70521,"name":"uint256","nodeType":"ElementaryTypeName","src":"11771:7:74","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":70527,"initialValue":{"arguments":[{"id":70524,"name":"sqrtPriceAX96","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":70510,"src":"11799:13:74","typeDescriptions":{"typeIdentifier":"t_uint160","typeString":"uint160"}},{"id":70525,"name":"sqrtPriceBX96","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":70512,"src":"11814:13:74","typeDescriptions":{"typeIdentifier":"t_uint160","typeString":"uint160"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint160","typeString":"uint160"},{"typeIdentifier":"t_uint160","typeString":"uint160"}],"id":70523,"name":"absDiff","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":70507,"src":"11791:7:74","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint160_$_t_uint160_$returns$_t_uint256_$","typeString":"function (uint160,uint160) pure returns (uint256)"}},"id":70526,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"11791:37:74","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"VariableDeclarationStatement","src":"11771:57:74"},{"assignments":[70529],"declarations":[{"constant":false,"id":70529,"mutability":"mutable","name":"denominator","nameLocation":"11846:11:74","nodeType":"VariableDeclaration","scope":70550,"src":"11838:19:74","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":70528,"name":"uint256","nodeType":"ElementaryTypeName","src":"11838:7:74","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":70532,"initialValue":{"expression":{"id":70530,"name":"FixedPoint96","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":66467,"src":"11860:12:74","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_FixedPoint96_$66467_$","typeString":"type(library FixedPoint96)"}},"id":70531,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"memberLocation":"11873:3:74","memberName":"Q96","nodeType":"MemberAccess","referencedDeclaration":66466,"src":"11860:16:74","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"VariableDeclarationStatement","src":"11838:38:74"},{"assignments":[70534],"declarations":[{"constant":false,"id":70534,"mutability":"mutable","name":"_liquidity","nameLocation":"11894:10:74","nodeType":"VariableDeclaration","scope":70550,"src":"11886:18:74","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":70533,"name":"uint256","nodeType":"ElementaryTypeName","src":"11886:7:74","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":70539,"initialValue":{"arguments":[{"id":70537,"name":"liquidity","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":70514,"src":"11915:9:74","typeDescriptions":{"typeIdentifier":"t_uint128","typeString":"uint128"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint128","typeString":"uint128"}],"id":70536,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"11907:7:74","typeDescriptions":{"typeIdentifier":"t_type$_t_uint256_$","typeString":"type(uint256)"},"typeName":{"id":70535,"name":"uint256","nodeType":"ElementaryTypeName","src":"11907:7:74","typeDescriptions":{}}},"id":70538,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"11907:18:74","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"VariableDeclarationStatement","src":"11886:39:74"},{"documentation":" Equivalent to:\n   amount1 = roundUp\n       ? FullMath.mulDivRoundingUp(liquidity, sqrtPriceBX96 - sqrtPriceAX96, FixedPoint96.Q96)\n       : FullMath.mulDiv(liquidity, sqrtPriceBX96 - sqrtPriceAX96, FixedPoint96.Q96);\n Cannot overflow because `type(uint128).max * type(uint160).max >> 96 < (1 << 192)`.","expression":{"id":70547,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":70540,"name":"amount1","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":70519,"src":"12313:7:74","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"arguments":[{"id":70543,"name":"_liquidity","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":70534,"src":"12339:10:74","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"id":70544,"name":"numerator","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":70522,"src":"12351:9:74","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"id":70545,"name":"denominator","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":70529,"src":"12362:11:74","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"id":70541,"name":"FullMath","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":66635,"src":"12323:8:74","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_FullMath_$66635_$","typeString":"type(library FullMath)"}},"id":70542,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"12332:6:74","memberName":"mulDiv","nodeType":"MemberAccess","referencedDeclaration":66596,"src":"12323:15:74","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint256_$_t_uint256_$_t_uint256_$returns$_t_uint256_$","typeString":"function (uint256,uint256,uint256) pure returns (uint256)"}},"id":70546,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"12323:51:74","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"12313:61:74","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":70548,"nodeType":"ExpressionStatement","src":"12313:61:74"},{"AST":{"nativeSrc":"12409:112:74","nodeType":"YulBlock","src":"12409:112:74","statements":[{"nativeSrc":"12423:88:74","nodeType":"YulAssignment","src":"12423:88:74","value":{"arguments":[{"name":"amount1","nativeSrc":"12438:7:74","nodeType":"YulIdentifier","src":"12438:7:74"},{"arguments":[{"arguments":[{"arguments":[{"name":"_liquidity","nativeSrc":"12461:10:74","nodeType":"YulIdentifier","src":"12461:10:74"},{"name":"numerator","nativeSrc":"12473:9:74","nodeType":"YulIdentifier","src":"12473:9:74"},{"name":"denominator","nativeSrc":"12484:11:74","nodeType":"YulIdentifier","src":"12484:11:74"}],"functionName":{"name":"mulmod","nativeSrc":"12454:6:74","nodeType":"YulIdentifier","src":"12454:6:74"},"nativeSrc":"12454:42:74","nodeType":"YulFunctionCall","src":"12454:42:74"},{"kind":"number","nativeSrc":"12498:1:74","nodeType":"YulLiteral","src":"12498:1:74","type":"","value":"0"}],"functionName":{"name":"gt","nativeSrc":"12451:2:74","nodeType":"YulIdentifier","src":"12451:2:74"},"nativeSrc":"12451:49:74","nodeType":"YulFunctionCall","src":"12451:49:74"},{"name":"roundUp","nativeSrc":"12502:7:74","nodeType":"YulIdentifier","src":"12502:7:74"}],"functionName":{"name":"and","nativeSrc":"12447:3:74","nodeType":"YulIdentifier","src":"12447:3:74"},"nativeSrc":"12447:63:74","nodeType":"YulFunctionCall","src":"12447:63:74"}],"functionName":{"name":"add","nativeSrc":"12434:3:74","nodeType":"YulIdentifier","src":"12434:3:74"},"nativeSrc":"12434:77:74","nodeType":"YulFunctionCall","src":"12434:77:74"},"variableNames":[{"name":"amount1","nativeSrc":"12423:7:74","nodeType":"YulIdentifier","src":"12423:7:74"}]}]},"evmVersion":"cancun","externalReferences":[{"declaration":70534,"isOffset":false,"isSlot":false,"src":"12461:10:74","valueSize":1},{"declaration":70519,"isOffset":false,"isSlot":false,"src":"12423:7:74","valueSize":1},{"declaration":70519,"isOffset":false,"isSlot":false,"src":"12438:7:74","valueSize":1},{"declaration":70529,"isOffset":false,"isSlot":false,"src":"12484:11:74","valueSize":1},{"declaration":70522,"isOffset":false,"isSlot":false,"src":"12473:9:74","valueSize":1},{"declaration":70516,"isOffset":false,"isSlot":false,"src":"12502:7:74","valueSize":1}],"flags":["memory-safe"],"id":70549,"nodeType":"InlineAssembly","src":"12384:137:74"}]},"documentation":{"id":70508,"nodeType":"StructuredDocumentation","src":"11137:447:74","text":"@notice Gets the amount1 delta between two prices\n @dev Calculates liquidity * (sqrt(upper) - sqrt(lower))\n @param sqrtPriceAX96 A sqrt price\n @param sqrtPriceBX96 Another sqrt price\n @param liquidity The amount of usable liquidity\n @param roundUp Whether to round the amount up, or down\n @return amount1 Amount of currency1 required to cover a position of size liquidity between the two passed prices"},"implemented":true,"kind":"function","modifiers":[],"name":"getAmount1Delta","nameLocation":"11598:15:74","parameters":{"id":70517,"nodeType":"ParameterList","parameters":[{"constant":false,"id":70510,"mutability":"mutable","name":"sqrtPriceAX96","nameLocation":"11622:13:74","nodeType":"VariableDeclaration","scope":70551,"src":"11614:21:74","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint160","typeString":"uint160"},"typeName":{"id":70509,"name":"uint160","nodeType":"ElementaryTypeName","src":"11614:7:74","typeDescriptions":{"typeIdentifier":"t_uint160","typeString":"uint160"}},"visibility":"internal"},{"constant":false,"id":70512,"mutability":"mutable","name":"sqrtPriceBX96","nameLocation":"11645:13:74","nodeType":"VariableDeclaration","scope":70551,"src":"11637:21:74","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint160","typeString":"uint160"},"typeName":{"id":70511,"name":"uint160","nodeType":"ElementaryTypeName","src":"11637:7:74","typeDescriptions":{"typeIdentifier":"t_uint160","typeString":"uint160"}},"visibility":"internal"},{"constant":false,"id":70514,"mutability":"mutable","name":"liquidity","nameLocation":"11668:9:74","nodeType":"VariableDeclaration","scope":70551,"src":"11660:17:74","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint128","typeString":"uint128"},"typeName":{"id":70513,"name":"uint128","nodeType":"ElementaryTypeName","src":"11660:7:74","typeDescriptions":{"typeIdentifier":"t_uint128","typeString":"uint128"}},"visibility":"internal"},{"constant":false,"id":70516,"mutability":"mutable","name":"roundUp","nameLocation":"11684:7:74","nodeType":"VariableDeclaration","scope":70551,"src":"11679:12:74","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"},"typeName":{"id":70515,"name":"bool","nodeType":"ElementaryTypeName","src":"11679:4:74","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"visibility":"internal"}],"src":"11613:79:74"},"returnParameters":{"id":70520,"nodeType":"ParameterList","parameters":[{"constant":false,"id":70519,"mutability":"mutable","name":"amount1","nameLocation":"11748:7:74","nodeType":"VariableDeclaration","scope":70551,"src":"11740:15:74","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":70518,"name":"uint256","nodeType":"ElementaryTypeName","src":"11740:7:74","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"11739:17:74"},"scope":70638,"stateMutability":"pure","virtual":false,"visibility":"internal"},{"id":70594,"nodeType":"FunctionDefinition","src":"12876:424:74","nodes":[],"body":{"id":70593,"nodeType":"Block","src":"13024:276:74","nodes":[],"statements":[{"id":70592,"nodeType":"UncheckedBlock","src":"13034:260:74","statements":[{"expression":{"condition":{"commonType":{"typeIdentifier":"t_int128","typeString":"int128"},"id":70565,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":70563,"name":"liquidity","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":70558,"src":"13065:9:74","typeDescriptions":{"typeIdentifier":"t_int128","typeString":"int128"}},"nodeType":"BinaryOperation","operator":"<","rightExpression":{"hexValue":"30","id":70564,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"13077:1:74","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"src":"13065:13:74","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"falseExpression":{"id":70589,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"UnaryOperation","operator":"-","prefix":true,"src":"13200:83:74","subExpression":{"arguments":[],"expression":{"argumentTypes":[],"expression":{"arguments":[{"id":70579,"name":"sqrtPriceAX96","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":70554,"src":"13217:13:74","typeDescriptions":{"typeIdentifier":"t_uint160","typeString":"uint160"}},{"id":70580,"name":"sqrtPriceBX96","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":70556,"src":"13232:13:74","typeDescriptions":{"typeIdentifier":"t_uint160","typeString":"uint160"}},{"arguments":[{"id":70583,"name":"liquidity","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":70558,"src":"13255:9:74","typeDescriptions":{"typeIdentifier":"t_int128","typeString":"int128"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_int128","typeString":"int128"}],"id":70582,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"13247:7:74","typeDescriptions":{"typeIdentifier":"t_type$_t_uint128_$","typeString":"type(uint128)"},"typeName":{"id":70581,"name":"uint128","nodeType":"ElementaryTypeName","src":"13247:7:74","typeDescriptions":{}}},"id":70584,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"13247:18:74","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint128","typeString":"uint128"}},{"hexValue":"74727565","id":70585,"isConstant":false,"isLValue":false,"isPure":true,"kind":"bool","lValueRequested":false,"nodeType":"Literal","src":"13267:4:74","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"},"value":"true"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint160","typeString":"uint160"},{"typeIdentifier":"t_uint160","typeString":"uint160"},{"typeIdentifier":"t_uint128","typeString":"uint128"},{"typeIdentifier":"t_bool","typeString":"bool"}],"id":70578,"name":"getAmount0Delta","nodeType":"Identifier","overloadedDeclarations":[70495,70594],"referencedDeclaration":70495,"src":"13201:15:74","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint160_$_t_uint160_$_t_uint128_$_t_bool_$returns$_t_uint256_$","typeString":"function (uint160,uint160,uint128,bool) pure returns (uint256)"}},"id":70586,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"13201:71:74","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":70587,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"13273:8:74","memberName":"toInt256","nodeType":"MemberAccess","referencedDeclaration":70116,"src":"13201:80:74","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint256_$returns$_t_int256_$attached_to$_t_uint256_$","typeString":"function (uint256) pure returns (int256)"}},"id":70588,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"13201:82:74","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"id":70590,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"Conditional","src":"13065:218:74","trueExpression":{"arguments":[],"expression":{"argumentTypes":[],"expression":{"arguments":[{"id":70567,"name":"sqrtPriceAX96","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":70554,"src":"13113:13:74","typeDescriptions":{"typeIdentifier":"t_uint160","typeString":"uint160"}},{"id":70568,"name":"sqrtPriceBX96","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":70556,"src":"13128:13:74","typeDescriptions":{"typeIdentifier":"t_uint160","typeString":"uint160"}},{"arguments":[{"id":70572,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"UnaryOperation","operator":"-","prefix":true,"src":"13151:10:74","subExpression":{"id":70571,"name":"liquidity","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":70558,"src":"13152:9:74","typeDescriptions":{"typeIdentifier":"t_int128","typeString":"int128"}},"typeDescriptions":{"typeIdentifier":"t_int128","typeString":"int128"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_int128","typeString":"int128"}],"id":70570,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"13143:7:74","typeDescriptions":{"typeIdentifier":"t_type$_t_uint128_$","typeString":"type(uint128)"},"typeName":{"id":70569,"name":"uint128","nodeType":"ElementaryTypeName","src":"13143:7:74","typeDescriptions":{}}},"id":70573,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"13143:19:74","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint128","typeString":"uint128"}},{"hexValue":"66616c7365","id":70574,"isConstant":false,"isLValue":false,"isPure":true,"kind":"bool","lValueRequested":false,"nodeType":"Literal","src":"13164:5:74","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"},"value":"false"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint160","typeString":"uint160"},{"typeIdentifier":"t_uint160","typeString":"uint160"},{"typeIdentifier":"t_uint128","typeString":"uint128"},{"typeIdentifier":"t_bool","typeString":"bool"}],"id":70566,"name":"getAmount0Delta","nodeType":"Identifier","overloadedDeclarations":[70495,70594],"referencedDeclaration":70495,"src":"13097:15:74","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint160_$_t_uint160_$_t_uint128_$_t_bool_$returns$_t_uint256_$","typeString":"function (uint160,uint160,uint128,bool) pure returns (uint256)"}},"id":70575,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"13097:73:74","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":70576,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"13171:8:74","memberName":"toInt256","nodeType":"MemberAccess","referencedDeclaration":70116,"src":"13097:82:74","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint256_$returns$_t_int256_$attached_to$_t_uint256_$","typeString":"function (uint256) pure returns (int256)"}},"id":70577,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"13097:84:74","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"functionReturnParameters":70562,"id":70591,"nodeType":"Return","src":"13058:225:74"}]}]},"documentation":{"id":70552,"nodeType":"StructuredDocumentation","src":"12533:338:74","text":"@notice Helper that gets signed currency0 delta\n @param sqrtPriceAX96 A sqrt price\n @param sqrtPriceBX96 Another sqrt price\n @param liquidity The change in liquidity for which to compute the amount0 delta\n @return int256 Amount of currency0 corresponding to the passed liquidityDelta between the two prices"},"implemented":true,"kind":"function","modifiers":[],"name":"getAmount0Delta","nameLocation":"12885:15:74","parameters":{"id":70559,"nodeType":"ParameterList","parameters":[{"constant":false,"id":70554,"mutability":"mutable","name":"sqrtPriceAX96","nameLocation":"12909:13:74","nodeType":"VariableDeclaration","scope":70594,"src":"12901:21:74","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint160","typeString":"uint160"},"typeName":{"id":70553,"name":"uint160","nodeType":"ElementaryTypeName","src":"12901:7:74","typeDescriptions":{"typeIdentifier":"t_uint160","typeString":"uint160"}},"visibility":"internal"},{"constant":false,"id":70556,"mutability":"mutable","name":"sqrtPriceBX96","nameLocation":"12932:13:74","nodeType":"VariableDeclaration","scope":70594,"src":"12924:21:74","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint160","typeString":"uint160"},"typeName":{"id":70555,"name":"uint160","nodeType":"ElementaryTypeName","src":"12924:7:74","typeDescriptions":{"typeIdentifier":"t_uint160","typeString":"uint160"}},"visibility":"internal"},{"constant":false,"id":70558,"mutability":"mutable","name":"liquidity","nameLocation":"12954:9:74","nodeType":"VariableDeclaration","scope":70594,"src":"12947:16:74","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_int128","typeString":"int128"},"typeName":{"id":70557,"name":"int128","nodeType":"ElementaryTypeName","src":"12947:6:74","typeDescriptions":{"typeIdentifier":"t_int128","typeString":"int128"}},"visibility":"internal"}],"src":"12900:64:74"},"returnParameters":{"id":70562,"nodeType":"ParameterList","parameters":[{"constant":false,"id":70561,"mutability":"mutable","name":"","nameLocation":"-1:-1:-1","nodeType":"VariableDeclaration","scope":70594,"src":"13012:6:74","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"},"typeName":{"id":70560,"name":"int256","nodeType":"ElementaryTypeName","src":"13012:6:74","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"visibility":"internal"}],"src":"13011:8:74"},"scope":70638,"stateMutability":"pure","virtual":false,"visibility":"internal"},{"id":70637,"nodeType":"FunctionDefinition","src":"13649:424:74","nodes":[],"body":{"id":70636,"nodeType":"Block","src":"13797:276:74","nodes":[],"statements":[{"id":70635,"nodeType":"UncheckedBlock","src":"13807:260:74","statements":[{"expression":{"condition":{"commonType":{"typeIdentifier":"t_int128","typeString":"int128"},"id":70608,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":70606,"name":"liquidity","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":70601,"src":"13838:9:74","typeDescriptions":{"typeIdentifier":"t_int128","typeString":"int128"}},"nodeType":"BinaryOperation","operator":"<","rightExpression":{"hexValue":"30","id":70607,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"13850:1:74","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"src":"13838:13:74","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"falseExpression":{"id":70632,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"UnaryOperation","operator":"-","prefix":true,"src":"13973:83:74","subExpression":{"arguments":[],"expression":{"argumentTypes":[],"expression":{"arguments":[{"id":70622,"name":"sqrtPriceAX96","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":70597,"src":"13990:13:74","typeDescriptions":{"typeIdentifier":"t_uint160","typeString":"uint160"}},{"id":70623,"name":"sqrtPriceBX96","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":70599,"src":"14005:13:74","typeDescriptions":{"typeIdentifier":"t_uint160","typeString":"uint160"}},{"arguments":[{"id":70626,"name":"liquidity","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":70601,"src":"14028:9:74","typeDescriptions":{"typeIdentifier":"t_int128","typeString":"int128"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_int128","typeString":"int128"}],"id":70625,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"14020:7:74","typeDescriptions":{"typeIdentifier":"t_type$_t_uint128_$","typeString":"type(uint128)"},"typeName":{"id":70624,"name":"uint128","nodeType":"ElementaryTypeName","src":"14020:7:74","typeDescriptions":{}}},"id":70627,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"14020:18:74","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint128","typeString":"uint128"}},{"hexValue":"74727565","id":70628,"isConstant":false,"isLValue":false,"isPure":true,"kind":"bool","lValueRequested":false,"nodeType":"Literal","src":"14040:4:74","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"},"value":"true"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint160","typeString":"uint160"},{"typeIdentifier":"t_uint160","typeString":"uint160"},{"typeIdentifier":"t_uint128","typeString":"uint128"},{"typeIdentifier":"t_bool","typeString":"bool"}],"id":70621,"name":"getAmount1Delta","nodeType":"Identifier","overloadedDeclarations":[70551,70637],"referencedDeclaration":70551,"src":"13974:15:74","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint160_$_t_uint160_$_t_uint128_$_t_bool_$returns$_t_uint256_$","typeString":"function (uint160,uint160,uint128,bool) pure returns (uint256)"}},"id":70629,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"13974:71:74","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":70630,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"14046:8:74","memberName":"toInt256","nodeType":"MemberAccess","referencedDeclaration":70116,"src":"13974:80:74","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint256_$returns$_t_int256_$attached_to$_t_uint256_$","typeString":"function (uint256) pure returns (int256)"}},"id":70631,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"13974:82:74","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"id":70633,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"Conditional","src":"13838:218:74","trueExpression":{"arguments":[],"expression":{"argumentTypes":[],"expression":{"arguments":[{"id":70610,"name":"sqrtPriceAX96","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":70597,"src":"13886:13:74","typeDescriptions":{"typeIdentifier":"t_uint160","typeString":"uint160"}},{"id":70611,"name":"sqrtPriceBX96","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":70599,"src":"13901:13:74","typeDescriptions":{"typeIdentifier":"t_uint160","typeString":"uint160"}},{"arguments":[{"id":70615,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"UnaryOperation","operator":"-","prefix":true,"src":"13924:10:74","subExpression":{"id":70614,"name":"liquidity","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":70601,"src":"13925:9:74","typeDescriptions":{"typeIdentifier":"t_int128","typeString":"int128"}},"typeDescriptions":{"typeIdentifier":"t_int128","typeString":"int128"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_int128","typeString":"int128"}],"id":70613,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"13916:7:74","typeDescriptions":{"typeIdentifier":"t_type$_t_uint128_$","typeString":"type(uint128)"},"typeName":{"id":70612,"name":"uint128","nodeType":"ElementaryTypeName","src":"13916:7:74","typeDescriptions":{}}},"id":70616,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"13916:19:74","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint128","typeString":"uint128"}},{"hexValue":"66616c7365","id":70617,"isConstant":false,"isLValue":false,"isPure":true,"kind":"bool","lValueRequested":false,"nodeType":"Literal","src":"13937:5:74","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"},"value":"false"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint160","typeString":"uint160"},{"typeIdentifier":"t_uint160","typeString":"uint160"},{"typeIdentifier":"t_uint128","typeString":"uint128"},{"typeIdentifier":"t_bool","typeString":"bool"}],"id":70609,"name":"getAmount1Delta","nodeType":"Identifier","overloadedDeclarations":[70551,70637],"referencedDeclaration":70551,"src":"13870:15:74","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint160_$_t_uint160_$_t_uint128_$_t_bool_$returns$_t_uint256_$","typeString":"function (uint160,uint160,uint128,bool) pure returns (uint256)"}},"id":70618,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"13870:73:74","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":70619,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"13944:8:74","memberName":"toInt256","nodeType":"MemberAccess","referencedDeclaration":70116,"src":"13870:82:74","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint256_$returns$_t_int256_$attached_to$_t_uint256_$","typeString":"function (uint256) pure returns (int256)"}},"id":70620,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"13870:84:74","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"functionReturnParameters":70605,"id":70634,"nodeType":"Return","src":"13831:225:74"}]}]},"documentation":{"id":70595,"nodeType":"StructuredDocumentation","src":"13306:338:74","text":"@notice Helper that gets signed currency1 delta\n @param sqrtPriceAX96 A sqrt price\n @param sqrtPriceBX96 Another sqrt price\n @param liquidity The change in liquidity for which to compute the amount1 delta\n @return int256 Amount of currency1 corresponding to the passed liquidityDelta between the two prices"},"implemented":true,"kind":"function","modifiers":[],"name":"getAmount1Delta","nameLocation":"13658:15:74","parameters":{"id":70602,"nodeType":"ParameterList","parameters":[{"constant":false,"id":70597,"mutability":"mutable","name":"sqrtPriceAX96","nameLocation":"13682:13:74","nodeType":"VariableDeclaration","scope":70637,"src":"13674:21:74","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint160","typeString":"uint160"},"typeName":{"id":70596,"name":"uint160","nodeType":"ElementaryTypeName","src":"13674:7:74","typeDescriptions":{"typeIdentifier":"t_uint160","typeString":"uint160"}},"visibility":"internal"},{"constant":false,"id":70599,"mutability":"mutable","name":"sqrtPriceBX96","nameLocation":"13705:13:74","nodeType":"VariableDeclaration","scope":70637,"src":"13697:21:74","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint160","typeString":"uint160"},"typeName":{"id":70598,"name":"uint160","nodeType":"ElementaryTypeName","src":"13697:7:74","typeDescriptions":{"typeIdentifier":"t_uint160","typeString":"uint160"}},"visibility":"internal"},{"constant":false,"id":70601,"mutability":"mutable","name":"liquidity","nameLocation":"13727:9:74","nodeType":"VariableDeclaration","scope":70637,"src":"13720:16:74","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_int128","typeString":"int128"},"typeName":{"id":70600,"name":"int128","nodeType":"ElementaryTypeName","src":"13720:6:74","typeDescriptions":{"typeIdentifier":"t_int128","typeString":"int128"}},"visibility":"internal"}],"src":"13673:64:74"},"returnParameters":{"id":70605,"nodeType":"ParameterList","parameters":[{"constant":false,"id":70604,"mutability":"mutable","name":"","nameLocation":"-1:-1:-1","nodeType":"VariableDeclaration","scope":70637,"src":"13785:6:74","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"},"typeName":{"id":70603,"name":"int256","nodeType":"ElementaryTypeName","src":"13785:6:74","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"visibility":"internal"}],"src":"13784:8:74"},"scope":70638,"stateMutability":"pure","virtual":false,"visibility":"internal"}],"abstract":false,"baseContracts":[],"canonicalName":"SqrtPriceMath","contractDependencies":[],"contractKind":"library","documentation":{"id":70158,"nodeType":"StructuredDocumentation","src":"235:167:74","text":"@title Functions based on Q64.96 sqrt price and liquidity\n @notice Contains the math that uses square root of price as a Q64.96 and liquidity to compute deltas"},"fullyImplemented":true,"linearizedBaseContracts":[70638],"name":"SqrtPriceMath","nameLocation":"410:13:74","scope":70639,"usedErrors":[70163,70165,70167,70169],"usedEvents":[]}],"license":"MIT"},"id":74}